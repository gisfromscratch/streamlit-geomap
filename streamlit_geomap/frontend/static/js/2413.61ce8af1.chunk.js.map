{"version":3,"file":"static/js/2413.61ce8af1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/programUtils.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/ProgramCache.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/core/NestedMap.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js","../node_modules/@arcgis/core/core/memoryEstimations.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction e(e){const{options:n,value:o}=e;return\"number\"==typeof n[o]}function n(n){let o=\"\";for(const t in n){const i=n[t];if(\"boolean\"==typeof i)i&&(o+=`#define ${t}\\n`);else if(\"number\"==typeof i)o+=`#define ${t} ${i.toFixed()}\\n`;else if(\"object\"==typeof i)if(e(i)){const{value:e,options:n,namespace:f}=i,s=f?`${f}_`:\"\";for(const t in n)o+=`#define ${s}${t} ${n[t].toFixed()}\\n`;o+=`#define ${t} ${s}${e}\\n`}else{const e=i.options;let n=0;for(const t in e)o+=`#define ${e[t]} ${(n++).toFixed()}\\n`;o+=`#define ${t} ${e[i.value]}\\n`}}return o}export{n as glslifyDefineMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as r}from\"./BufferObject.js\";import{webglDebugEnabled as i}from\"./checkWebGLError.js\";import{ResourceType as s,ColorAttachment0 as n,TextureType as h,FramebufferTarget as o,UnsizedDepthFormat as c,PixelType as a,Usage as u,BufferType as f,SizedStencilFormat as l,StencilAttachment as _,SizedDepthStencilFormat as d,DepthStencilAttachment as m,SizedDepthFormat as T,DepthAttachment as p}from\"./enums.js\";import{FBOAttachmentType as E}from\"./FBOAttachmentType.js\";import{Renderbuffer as x}from\"./Renderbuffer.js\";import{Texture as b}from\"./Texture.js\";const g=()=>t.getLogger(\"esri.views.webgl.FramebufferObject\");class R{constructor(t,e,r){if(this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthStencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(s.FramebufferObject,this),null!=e){const r=S(e)?e:new b(t,e);this._colorAttachments.set(n,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(n)}if(null!=r)if(A(r))this._depthStencilTexture=S(r)?r:new b(t,r),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const e=F(r)?r:new x(t,r);this._depthStencilBuffer=e,this._validateRenderbufferDescriptor(e.descriptor)}}dispose(){const{_colorAttachments:t,_glName:e}=this;if(0===t.size&&!this._depthStencilBuffer&&!this._depthStencilTexture&&!e)return;const{_context:r}=this,i=r.getBoundFramebufferObject();t.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),r.gl.deleteFramebuffer(e),this._glName=null,r.bindFramebuffer(i===this?null:i),r.instanceCounter.decrement(s.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(n)}get depthStencil(){return this._depthStencilTexture||this._depthStencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(n)??this._depthStencilTexture??this._depthStencilBuffer;return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(n)??this._depthStencilTexture??this._depthStencilBuffer;return t?.descriptor?.height??0}get usedMemory(){return[...this._colorAttachments].reduce(((t,[e,r])=>t+r.usedMemory),this.depthStencil?.usedMemory??0)}static{this._MAX_COLOR_ATTACHMENTS=-1}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&S(e)?e:null}get colorAttachments(){return[...this._colorAttachments.keys()]}attachColorTexture(t,e=n){if(!t)return;this._validateColorAttachmentPoint(e);const{descriptor:r}=t;this._validateTextureDescriptor(r),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=n){const e=this._colorAttachments.get(t);if(e)return this._initialized&&this._context.temporaryBindFramebufferObject(this,(()=>{this._framebufferTexture2D(null,t)})),this._colorAttachments.delete(t),e}setColorTextureTarget(t,e=n,r=0){const i=this._colorAttachments.get(e);i&&(t===h.TEXTURE_2D_ARRAY?this._framebufferTextureLayer(i.glName,e,o.FRAMEBUFFER,0,r):this._framebufferTexture2D(i.glName,e,t,o.FRAMEBUFFER,0))}attachDepthStencil(t){if(t)switch(t.type){case E.Texture:return this._attachDepthStencilTexture(t);case E.Renderbuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const{descriptor:e}=t,{pixelFormat:r,dataType:i}=e;r===c.DEPTH_STENCIL||r===c.DEPTH_COMPONENT?r!==c.DEPTH_STENCIL||i===a.UNSIGNED_INT_24_8?r!==c.DEPTH_COMPONENT||i===a.UNSIGNED_INT||i===a.UNSIGNED_SHORT?(this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,O(r))),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t):console.error(\"Depth texture must have data type of UNSIGNED_INT or UNSIGNED_SHORT!\"):console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"):console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\")}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&this._context.temporaryBindFramebufferObject(this,(()=>{this._framebufferTexture2D(null,O(t.descriptor.pixelFormat))})),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(this._validateRenderbufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const{gl:r}=this._context,i=this._getGLAttachmentPoint(e);r.framebufferRenderbuffer(o.FRAMEBUFFER,i,r.RENDERBUFFER,t.glName)}this._depthStencilBuffer=t}detachDepthStencilBuffer(){const t=this._depthStencilBuffer;if(t&&this._initialized){const{_context:e}=this,r=e.getBoundFramebufferObject();e.bindFramebuffer(this);const{gl:i}=e,s=this._getGLAttachmentPoint(t.descriptor);i.framebufferRenderbuffer(o.FRAMEBUFFER,s,i.RENDERBUFFER,null),e.bindFramebuffer(r)}return this._depthStencilBuffer=null,t}invalidateAttachments(t){const{_context:e}=this;e.temporaryBindFramebufferObject(this,(()=>e.gl.invalidateFramebuffer(o.FRAMEBUFFER,t)),!0)}copyToTexture(t,e,r,i,s,n,o){(t<0||e<0||s<0||n<0)&&console.error(\"Offsets cannot be negative!\"),(r<=0||i<=0)&&console.error(\"Copy width and height must be greater than zero!\");const c=o.descriptor;o.descriptor.target!==h.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==c?.width||null==c?.height||t+r>this.width||e+i>this.height||s+r>c.width||n+i>c.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const a=this._context,u=a.bindTexture(o,b.TEXTURE_UNIT_FOR_UPDATES);a.setActiveTexture(b.TEXTURE_UNIT_FOR_UPDATES),a.bindFramebuffer(this),a.gl.copyTexSubImage2D(h.TEXTURE_2D,0,s,n,t,e,r,i),a.bindTexture(u,b.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,r,i,s,n,h){(r<=0||i<=0)&&console.error(\"Copy width and height must be greater than zero!\"),h||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,r,i,s,n,h)}async readPixelsAsync(t,e,i,s,n,h,o){const{gl:c}=this._context,a=r.createPixelPack(this._context,u.STREAM_READ,o.byteLength);this._context.bindBuffer(a);const l=this._context.getBoundFramebufferObject();this._context.bindFramebuffer(this),c.readPixels(t,e,i,s,n,h,0),this._context.unbindBuffer(f.PIXEL_PACK_BUFFER),this._context.bindFramebuffer(l),await a.getSubDataAsync(o),a.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const r={width:t,height:e};B(r,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(r.width,r.height))),this._depthStencilTexture?.resize(r.width,r.height),this._initialized&&(B(r,this._context.parameters.maxRenderbufferSize),this._depthStencilBuffer?.resize(r.width,r.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=o.FRAMEBUFFER){const{gl:e}=this._context;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const r=e.createFramebuffer();if(e.bindFramebuffer(t,r),this._colorAttachments.forEach(((e,r)=>{const i=U(e);i===h.TEXTURE_2D_ARRAY?this._framebufferTextureLayer(e.glName,r,t,0,0):this._framebufferTexture2D(e.glName,r,i,t)})),this._depthStencilBuffer){const r=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);e.framebufferRenderbuffer(t,r,e.RENDERBUFFER,this._depthStencilBuffer.glName)}else if(this._depthStencilTexture){const e=O(this._depthStencilTexture.descriptor.pixelFormat);this._framebufferTexture2D(this._depthStencilTexture.glName,e,U(this._depthStencilTexture),t)}if(i()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=r,this._initialized=!0}_framebufferTexture2D(t,e=n,r=h.TEXTURE_2D,i=o.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(i,e,r,t,s)}_framebufferTextureLayer(t,e=n,r=o.FRAMEBUFFER,i=0,s=0){this._context.gl.framebufferTextureLayer(r,e,t,i,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthStencilBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthStencilBuffer.descriptor);t.framebufferRenderbuffer(o.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthStencilBuffer=e(this._depthStencilBuffer)}this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,O(this._depthStencilTexture.descriptor.pixelFormat))),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==h.TEXTURE_2D&&t.target!==h.TEXTURE_CUBE_MAP&&t.target!==h.TEXTURE_2D_ARRAY&&console.error(\"Texture type must be TEXTURE_2D, TEXTURE_2D_ARRAY or TEXTURE_CUBE_MAP!\"),B(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderbufferDescriptor(t){B(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case T.DEPTH_COMPONENT16:case T.DEPTH_COMPONENT24:case T.DEPTH_COMPONENT32F:return p;case d.DEPTH24_STENCIL8:case d.DEPTH32F_STENCIL8:return m;case l.STENCIL_INDEX8:return _}}_validateColorAttachmentPoint(e){if(-1===R._MAX_COLOR_ATTACHMENTS){const{gl:t}=this._context;R._MAX_COLOR_ATTACHMENTS=t.getParameter(t.MAX_COLOR_ATTACHMENTS)}const r=e-n;r+1>R._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${r+1}. Implementation supports up to ${R._MAX_COLOR_ATTACHMENTS} color attachments`)}}function S(t){return N(t)===E.Texture}function F(t){return N(t)===E.Renderbuffer}function A(t){return S(t)||D(t)}function D(t){return N(t)===E.TextureDescriptor}function N(t){return null!=t&&\"type\"in t?t.type:null}function B(t,e){const r=Math.max(t.width,t.height);if(r>e){g().warnOnce(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const i=e/r;return t.width=Math.round(t.width*i),t.height=Math.round(t.height*i),!1}return!0}function U(t){return t.descriptor.target===h.TEXTURE_CUBE_MAP?h.TEXTURE_CUBE_MAP_POSITIVE_X:t.descriptor.target===h.TEXTURE_2D_ARRAY?h.TEXTURE_2D_ARRAY:h.TEXTURE_2D}function O(t){return t===c.DEPTH_COMPONENT?p:m}export{R as FramebufferObject,B as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import{NestedMap as t}from\"../../core/NestedMap.js\";import{Program as r}from\"./Program.js\";class s{constructor(r){this._rctx=r,this._store=new t}dispose(){this._store.forAll((t=>t.dispose())),this._store.clear()}acquire(t,s,e,o){const i=this._store.get(t,s);if(null!=i)return i.ref(),i;const c=new r(this._rctx,t,s,e,o);return c.ref(),this._store.set(t,s,c),c}get test(){}}export{s as ProgramCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ResourceType as e}from\"./enums.js\";import{FBOAttachmentType as t}from\"./FBOAttachmentType.js\";import{estimateMemory as r}from\"./RenderbufferDescriptor.js\";class s{constructor(r,s){this._context=r,this._descriptor=s,this.type=t.Renderbuffer,this._context.instanceCounter.increment(e.Renderbuffer,this);const i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:n,height:o,internalFormat:h,multisampled:d}=s;d?i.renderbufferStorageMultisample(i.RENDERBUFFER,this.samples,h,n,o):i.renderbufferStorage(i.RENDERBUFFER,h,n,o),this._context.bindRenderbuffer(null)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get usedMemory(){return r(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;this._context.bindRenderbuffer(this),r.multisampled?s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height):s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height),this._context.bindRenderbuffer(null)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(e.Renderbuffer,this),this._context=null)}}export{s as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._outer=new Map}clear(){this._outer.clear()}get empty(){return 0===this._outer.size}get outerSize(){return this._outer.size}get(t,e){return this._outer.get(t)?.get(e)}getInner(t){return this._outer.get(t)}set(t,e,r){const o=this._outer.get(t);o?o.set(e,r):this._outer.set(t,new Map([[e,r]]))}delete(t,e){const r=this._outer.get(t);r&&(r.delete(e),0===r.size&&this._outer.delete(t))}forEach(t){this._outer.forEach(((e,r)=>t(e,r)))}forAll(t){this._outer.forEach(((e,r)=>e.forEach(((e,o)=>t(e,r,o)))))}}export{t as NestedMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i=0,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{isTypedArray as r}from\"./typedArrayUtil.js\";function t(r){return 32+r.length}const n=16;function e(r){if(!r)return 0;let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n],!1));return t}function u(r){if(!r)return 0;if(\"number\"==typeof r[0])return i(r);if(Array.isArray(r))return o(r);let t=s;for(const n in r)r.hasOwnProperty(n)&&(t+=f(r[n]));return t}function o(r){const t=r.length;if(0===t||\"number\"==typeof r[0])return c(r,8);let n=a;for(let e=0;e<t;e++)n+=f(r[e]);return n}function f(r,e=!0){switch(typeof r){case\"object\":return e?u(r):s;case\"string\":return t(r);case\"number\":return n;case\"boolean\":return 4;default:return 8}}function i(...t){return t.reduce(((t,e)=>t+(e?r(e)?e.byteLength+y:Array.isArray(e)?c(e,n):0:0)),0)}function c(r,t){return a+r.length*t}const s=32,a=16,y=145;export{a as baseArrayMemory,s as baseObjectMemory,y as baseTypedArrayMemory,e as estimateAttributesMemory,c as estimateFixedArrayMemory,u as estimateNestedObjectMemory,i as estimateNumberArrayMemory,n as estimateNumberMemory,t as estimateStringMemory};\n"],"names":["e","options","n","value","o","t","i","concat","toFixed","namespace","f","s","R","constructor","r","this","_context","_glName","_colorAttachments","Map","_depthStencilBuffer","_depthStencilTexture","_initialized","instanceCounter","increment","FramebufferObject","S","b","set","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","N","E","TextureDescriptor","D","A","Renderbuffer","F","x","_validateRenderbufferDescriptor","dispose","_this$detachDepthSten","_this$detachDepthSten2","size","getBoundFramebufferObject","forEach","_this$detachColorText","detachColorTexture","detachDepthStencilBuffer","detachDepthStencilTexture","gl","deleteFramebuffer","bindFramebuffer","decrement","glName","colorTexture","get","depthStencil","depthStencilTexture","width","_ref","_this$_colorAttachmen","_t$descriptor$width","_t$descriptor","height","_ref2","_this$_colorAttachmen2","_t$descriptor$height","_t$descriptor2","usedMemory","_this$depthStencil$us","_this$depthStencil","reduce","_ref3","getColorTexture","colorAttachments","keys","attachColorTexture","_this$detachColorText2","arguments","length","undefined","_framebufferTexture2D","temporaryBindFramebufferObject","delete","setColorTextureTarget","h","TEXTURE_2D_ARRAY","_framebufferTextureLayer","FRAMEBUFFER","attachDepthStencil","type","Texture","_attachDepthStencilTexture","_attachDepthStencilBuffer","_this$_depthStencilTe","pixelFormat","dataType","c","DEPTH_STENCIL","DEPTH_COMPONENT","a","UNSIGNED_INT_24_8","UNSIGNED_INT","UNSIGNED_SHORT","_disposeDepthStencilAttachments","O","console","error","_getGLAttachmentPoint","framebufferRenderbuffer","RENDERBUFFER","invalidateAttachments","invalidateFramebuffer","copyToTexture","target","TEXTURE_2D","u","bindTexture","TEXTURE_UNIT_FOR_UPDATES","setActiveTexture","copyTexSubImage2D","readPixels","readPixelsAsync","createPixelPack","STREAM_READ","byteLength","bindBuffer","l","unbindBuffer","PIXEL_PACK_BUFFER","getSubDataAsync","resize","_this$_depthStencilTe2","_this$_depthStencilBu","B","parameters","maxTextureSize","maxRenderbufferSize","initializeAndBind","createFramebuffer","U","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","framebufferTextureLayer","TEXTURE_CUBE_MAP","_validateBufferDimensions","internalFormat","T","DEPTH_COMPONENT16","DEPTH_COMPONENT24","DEPTH_COMPONENT32F","p","d","DEPTH24_STENCIL8","DEPTH32F_STENCIL8","m","STENCIL_INDEX8","_","_MAX_COLOR_ATTACHMENTS","getParameter","MAX_COLOR_ATTACHMENTS","getLogger","Math","max","warnOnce","round","TEXTURE_CUBE_MAP_POSITIVE_X","_rctx","_store","forAll","clear","acquire","ref","test","_descriptor","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer","_outer","empty","outerSize","_this$_outer$get","getInner","hasOwnProperty","Array","isArray","_len","_key","y"],"sourceRoot":""}