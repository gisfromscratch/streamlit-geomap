{"version":3,"file":"static/js/5011.a44f6a6c.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/libs/gl-matrix-2/types/mat4.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ScaleInfo.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HUDMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HUDMaterial.js","../node_modules/@arcgis/core/chunks/HUDMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js","../node_modules/@arcgis/core/geometry/projection/projectVectorToPoint.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nfunction n(n){return n instanceof Float32Array&&n.length>=16}function r(n){return Array.isArray(n)&&n.length>=16}function t(t){return n(t)||r(t)}export{t as isMat4,n as isMat4f32,r as isMat4f64};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nclass t{constructor(){this.factor=new c,this.factorAlignment=new c}}class c{constructor(){this.scale=0,this.factor=0,this.minScaleFactor=0}}export{c as ScaleFactor,t as ScaleInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e,isColorOrColorEmission as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as s}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as o}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as t}from\"../lib/OITPass.js\";import{getDrawBuffers as i,oitBlending as l}from\"../lib/OrderIndependentTransparency.js\";import{H as n}from\"../../../../chunks/HUDMaterial.glsl.js\";import{PrimitiveType as a,CompareFunction as p}from\"../../../webgl/enums.js\";import{makePipelineState as u,premultipliedAlpha as d,defaultColorWrite as c,defaultDepthWrite as m}from\"../../../webgl/renderState.js\";class h extends o{constructor(e,r){super(e,r,new s(n,(()=>import(\"./HUDMaterial.glsl.js\")))),this.primitiveType=r.occlusionPass?a.POINTS:a.TRIANGLES}initializePipeline(s){const{oitPass:o,hasPolygonOffset:n,draped:a,output:h,depthTestEnabled:T,occlusionPass:g}=s,j=o===t.NONE,b=o===t.ColorAlpha,O=h===e.Highlight,P=T&&!a&&!b&&!g&&!O;return u({blending:r(h)?j?d:l(o):null,depthTest:T&&!a?{func:p.LEQUAL}:null,depthWrite:P?m:null,drawBuffers:i(o,h),colorWrite:c,polygonOffset:n?f:null})}}const f={factor:0,units:-4};export{h as HUDMaterialTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends s{constructor(e){super(),this.spherical=e,this.screenCenterOffsetUnitsEnabled=!1,this.occlusionTestEnabled=!0,this.signedDistanceFieldEnabled=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.vvSize=!1,this.vvColor=!1,this.hasVerticalOffset=!1,this.hasScreenSizePerspective=!1,this.hasRotation=!1,this.debugDrawLabelBorder=!1,this.hasPolygonOffset=!1,this.depthTestEnabled=!0,this.pixelSnappingEnabled=!0,this.draped=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.occlusionPass=!1,this.occludedFragmentFade=!1,this.objectAndLayerIdColorInstanced=!1,this.horizonCullingEnabled=!0,this.isFocused=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.hasVvInstancing=!1,this.snowCover=!1}}e([i()],r.prototype,\"screenCenterOffsetUnitsEnabled\",void 0),e([i()],r.prototype,\"occlusionTestEnabled\",void 0),e([i()],r.prototype,\"signedDistanceFieldEnabled\",void 0),e([i()],r.prototype,\"sampleSignedDistanceFieldTexelCenter\",void 0),e([i()],r.prototype,\"vvSize\",void 0),e([i()],r.prototype,\"vvColor\",void 0),e([i()],r.prototype,\"hasVerticalOffset\",void 0),e([i()],r.prototype,\"hasScreenSizePerspective\",void 0),e([i()],r.prototype,\"hasRotation\",void 0),e([i()],r.prototype,\"debugDrawLabelBorder\",void 0),e([i()],r.prototype,\"hasPolygonOffset\",void 0),e([i()],r.prototype,\"depthTestEnabled\",void 0),e([i()],r.prototype,\"pixelSnappingEnabled\",void 0),e([i()],r.prototype,\"draped\",void 0),e([i()],r.prototype,\"terrainDepthTest\",void 0),e([i()],r.prototype,\"cullAboveTerrain\",void 0),e([i()],r.prototype,\"occlusionPass\",void 0),e([i()],r.prototype,\"occludedFragmentFade\",void 0),e([i()],r.prototype,\"objectAndLayerIdColorInstanced\",void 0),e([i()],r.prototype,\"horizonCullingEnabled\",void 0),e([i()],r.prototype,\"isFocused\",void 0);export{r as HUDMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{clamp as e,deg2rad as t}from\"../../../../core/mathUtils.js\";import{fromMat4 as i}from\"../../../../core/libs/gl-matrix-2/math/mat3.js\";import{create as s}from\"../../../../core/libs/gl-matrix-2/factories/mat3f64.js\";import{invert as r}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{create as a}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as n,rotate as o}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{fromValues as l,create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as f,t as u,n as p,d as h,g as m,c as d,l as g,j as O,f as S,a as T,o as b,e as v}from\"../../../../chunks/vec32.js\";import{create as A,fromValues as E}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromArray as R,create as I,freeze as x}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{isMat4 as F}from\"../../../../core/libs/gl-matrix-2/types/mat4.js\";import{create as P}from\"../../../../geometry/support/aaBoundingRect.js\";import{BufferViewVec4u8 as _,BufferViewVec3f as C,BufferViewFloat as y,BufferViewVec2f as D,BufferViewVec4f as L}from\"../../../../geometry/support/buffer/BufferView.js\";import{evaluateModelTransformScale as N}from\"../../layers/support/FastSymbolUpdates.js\";import{debugFlags as j}from\"../../support/debugFlags.js\";import{newLayout as U}from\"../../support/buffer/InterleavedLayout.js\";import{isColorEmissionHighlightOrOID as z,isColorOrColorEmission as M}from\"../core/shaderLibrary/ShaderOutput.js\";import{HUDVerticalPixelOffset as w}from\"../core/shaderLibrary/hud/HUD.glsl.js\";import{olidEnabled as B}from\"../effects/geometry/olidUtils.js\";import{GLTextureMaterialBindParameters as V,GLTextureMaterial as X}from\"../lib/GLTextureMaterial.js\";import{Material as q,RenderOccludedFlag as G}from\"../lib/Material.js\";import{RenderSlot as H}from\"../lib/RenderSlot.js\";import{applyScaleFactor as W,applyPrecomputedScaleFactor as Y,precomputeScaleFactor as Z}from\"../lib/screenSizePerspectiveUtils.js\";import{assert as k}from\"../lib/Util.js\";import{VertexAttribute as J}from\"../lib/VertexAttribute.js\";import{ScaleInfo as K}from\"./ScaleInfo.js\";import{writePosition as Q,writeNormal as $,writeColor as ee,writeBufferFloat as te,writeBufferVec4 as ie,writeBufferVec4Zeros as se,writeOlidColor as re}from\"./internal/bufferWriterUtils.js\";import{verticalOffsetAtDistance as ae}from\"./internal/MaterialUtil.js\";import{c as ne,f as oe}from\"../../../../chunks/HUDMaterial.glsl.js\";import{HUDMaterialTechnique as le}from\"../shaders/HUDMaterialTechnique.js\";import{HUDMaterialTechniqueConfiguration as ce}from\"../shaders/HUDMaterialTechniqueConfiguration.js\";import{alphaCutoff as fe}from\"../../../../webscene/support/AlphaCutoff.js\";class ue extends q{constructor(e,t){super(e,Me),this.produces=new Map([[H.HUD_MATERIAL,e=>z(e)&&!this.parameters.drawAsLabel],[H.LABEL_MATERIAL,e=>z(e)&&this.parameters.drawAsLabel],[H.OCCLUSION_PIXELS,()=>this.parameters.occlusionTest],[H.DRAPED_MATERIAL,e=>this.parameters.draped&&z(e)]]),this._visible=!0,this._configuration=new ce(t)}getConfiguration(e,t){const i=this.parameters.draped;return super.getConfiguration(e,t,this._configuration),this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.hasVerticalOffset=!!this.parameters.verticalOffset,this._configuration.hasScreenSizePerspective=!!this.parameters.screenSizePerspective,this._configuration.screenCenterOffsetUnitsEnabled=\"screen\"===this.parameters.centerOffsetUnits,this._configuration.hasPolygonOffset=this.parameters.polygonOffset,this._configuration.draped=i,this._configuration.occlusionTestEnabled=this.parameters.occlusionTest,this._configuration.pixelSnappingEnabled=this.parameters.pixelSnappingEnabled,this._configuration.signedDistanceFieldEnabled=this.parameters.textureIsSignedDistanceField,this._configuration.sampleSignedDistanceFieldTexelCenter=this.parameters.sampleSignedDistanceFieldTexelCenter,this._configuration.hasRotation=this.parameters.hasRotation,this._configuration.vvSize=!!this.parameters.vvSize,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.occlusionPass=t.slot===H.OCCLUSION_PIXELS,this._configuration.occludedFragmentFade=!i&&this.parameters.occludedFragmentFade,this._configuration.horizonCullingEnabled=this.parameters.horizonCullingEnabled,this._configuration.isFocused=this.parameters.isFocused,this._configuration.depthTestEnabled=this.parameters.depthEnabled||t.slot===H.OCCLUSION_PIXELS,M(e)&&(this._configuration.debugDrawLabelBorder=!!j.LABELS_SHOW_BORDER),this._configuration.oitPass=t.oitPass,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration}intersect(e,t,s,a,n,o){const{options:{selectionMode:l,hud:c,excludeLabels:S},point:T,camera:b}=s,{parameters:v}=this;if(!l||!c||S&&v.isLabel||!e.visible||!T||!b)return;const E=e.attributes.get(J.FEATUREATTRIBUTE),I=null==E?null:R(E.data,ye),{scaleX:x,scaleY:F}=Xe(I,v,b.pixelRatio);i(Ie,t),e.attributes.has(J.FEATUREATTRIBUTE)&&de(Ie);const P=e.attributes.get(J.POSITION),_=e.attributes.get(J.SIZE),C=e.attributes.get(J.NORMAL),y=e.attributes.get(J.ROTATION),D=e.attributes.get(J.CENTEROFFSETANDDISTANCE);k(P.size>=3);const L=ne(v),N=\"screen\"===this.parameters.centerOffsetUnits;for(let i=0;i<P.data.length/P.size;i++){const e=i*P.size;f(Se,P.data[e],P.data[e+1],P.data[e+2]),u(Se,Se,t),u(Se,Se,b.viewMatrix);const a=i*D.size;if(f(_e,D.data[a],D.data[a+1],D.data[a+2]),!N&&(Se[0]+=_e[0],Se[1]+=_e[1],0!==_e[2])){const e=_e[2];p(_e,Se),h(Se,Se,m(_e,_e,e))}const n=i*C.size;if(f(Te,C.data[n],C.data[n+1],C.data[n+2]),me(Te,Ie,b,De),qe(this.parameters,Se,De,b,Oe),b.applyProjection(Se,be),be[0]>-1){N&&(_e[0]||_e[1])&&(be[0]+=_e[0]*b.pixelRatio,0!==_e[1]&&(be[1]+=W(_e[1],Oe.factorAlignment)*b.pixelRatio),b.unapplyProjection(be,Se)),be[0]+=this.parameters.screenOffset[0]*b.pixelRatio,be[1]+=this.parameters.screenOffset[1]*b.pixelRatio,be[0]=Math.floor(be[0]),be[1]=Math.floor(be[1]);const e=i*_.size;je[0]=_.data[e],je[1]=_.data[e+1],Y(je,Oe.factor,je);const t=Le*b.pixelRatio;let a=0;if(v.textureIsSignedDistanceField){a=Math.min(v.outlineSize,.5*je[0])*b.pixelRatio/2}je[0]*=x,je[1]*=F;const n=i*y.size,l=v.rotation+y.data[n];if(ge(T,be[0],be[1],je,t,a,l,v,L)){const e=s.ray;if(u(Ae,Se,r(Fe,b.viewMatrix)),be[0]=T[0],be[1]=T[1],b.unprojectFromRenderScreen(be,Se)){const t=A();d(t,e.direction);const i=1/g(t);m(t,t,i);o(O(e.origin,Se)*i,t,-1,Ae)}}}}}intersectDraped(e,t,i,s,r){const a=e.attributes.get(J.POSITION),n=e.attributes.get(J.SIZE),o=e.attributes.get(J.ROTATION),l=this.parameters,c=ne(l),f=e.attributes.get(J.FEATUREATTRIBUTE),u=null==f?null:R(f.data,ye),{scaleX:p,scaleY:h}=Xe(u,l,e.screenToWorldRatio),m=Ne*e.screenToWorldRatio;for(let d=0;d<a.data.length/a.size;d++){const t=d*a.size,f=a.data[t],u=a.data[t+1],g=d*n.size;je[0]=n.data[g],je[1]=n.data[g+1];let O=0;if(l.textureIsSignedDistanceField){O=Math.min(l.outlineSize,.5*je[0])*e.screenToWorldRatio/2}je[0]*=p,je[1]*=h;const S=d*o.size,T=l.rotation+o.data[S];ge(i,f,u,je,m,O,T,l,c)&&s(r.distance,r.normal,-1)}}createBufferWriter(){return new Ve}applyShaderOffsetsView(e,t,i,s,r,a,n){const o=me(t,i,r,De);return this._applyVerticalGroundOffsetView(e,o,r,n),qe(this.parameters,n,o,r,a),this._applyPolygonOffsetView(n,o,s[3],r,n),this._applyCenterOffsetView(n,s,n),n}applyShaderOffsetsNDC(e,t,i,s,r){return this._applyCenterOffsetNDC(e,t,i,s),null!=r&&d(r,s),this._applyPolygonOffsetNDC(s,t,i,s),s}_applyPolygonOffsetView(t,i,s,r,a){const n=r.aboveGround?1:-1;let o=Math.sign(s);0===o&&(o=n);const l=n*o;if(this.parameters.shaderPolygonOffset<=0)return d(a,t);const c=e(Math.abs(i.cosAngle),.01,1),f=1-Math.sqrt(1-c*c)/c/r.viewport[2];return m(a,t,l>0?f:1/f),a}_applyVerticalGroundOffsetView(e,t,i,s){const r=g(e),a=i.aboveGround?1:-1,n=i.computeRenderPixelSizeAtDist(r)*w,o=m(Se,t.normal,a*n);return S(s,e,o),s}_applyCenterOffsetView(e,t,i){const s=\"screen\"!==this.parameters.centerOffsetUnits;return i!==e&&d(i,e),s&&(i[0]+=t[0],i[1]+=t[1],t[2]&&(p(Te,i),T(i,i,m(Te,Te,t[2])))),i}_applyCenterOffsetNDC(e,t,i,s){const r=\"screen\"!==this.parameters.centerOffsetUnits;return s!==e&&d(s,e),r||(s[0]+=t[0]/i.fullWidth*2,s[1]+=t[1]/i.fullHeight*2),s}_applyPolygonOffsetNDC(e,t,i,s){const r=this.parameters.shaderPolygonOffset;if(e!==s&&d(s,e),r){const e=i.aboveGround?1:-1,a=e*Math.sign(t[3]);s[2]-=(a||e)*r}return s}set visible(e){this._visible=e}get visible(){const{color:e,outlineSize:t,outlineColor:i}=this.parameters,s=e[3]>=fe||t>=fe&&i[3]>=fe;return this._visible&&s}createGLMaterial(e){return new pe(e)}calculateRelativeScreenBounds(e,t,i=P()){return he(this.parameters,e,t,i),i[2]=i[0]+e[0],i[3]=i[1]+e[1],i}}class pe extends X{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(le,e)}}function he(e,t,i,s){s[0]=e.anchorPosition[0]*-t[0]+e.screenOffset[0]*i,s[1]=e.anchorPosition[1]*-t[1]+e.screenOffset[1]*i}function me(e,t,s,r){return F(t)&&(t=i(xe,t)),b(r.normal,e,t),u(r.normal,r.normal,s.viewInverseTransposeMatrix),r.cosAngle=v(ve,ze),r}function de(e){const t=e[0],i=e[1],s=e[2],r=e[3],a=e[4],n=e[5],o=e[6],l=e[7],c=e[8],f=1/Math.sqrt(t*t+i*i+s*s),u=1/Math.sqrt(r*r+a*a+n*n),p=1/Math.sqrt(o*o+l*l+c*c);return e[0]=t*f,e[1]=i*f,e[2]=s*f,e[3]=r*u,e[4]=a*u,e[5]=n*u,e[6]=o*p,e[7]=l*p,e[8]=c*p,e}function ge(e,i,s,r,a,l,c,f,u){let p=i-a-r[0]*u[0],h=p+r[0]+2*a,m=s-a-r[1]*u[1],d=m+r[1]+2*a;const g=f.distanceFieldBoundingBox;return f.textureIsSignedDistanceField&&null!=g&&(p+=r[0]*g[0],m+=r[1]*g[1],h-=r[0]*(1-g[2]),d-=r[1]*(1-g[3]),p-=l,h+=l,m-=l,d+=l),n(Re,i,s),o(Ee,e,Re,t(c)),Ee[0]>p&&Ee[0]<h&&Ee[1]>m&&Ee[1]<d}const Oe=new K,Se=A(),Te=A(),be=I(),ve=A(),Ae=A(),Ee=c(),Re=c(),Ie=s(),xe=s(),Fe=a(),Pe=I(),_e=A(),Ce=A(),ye=I(),De={normal:ve,cosAngle:0},Le=1,Ne=2,je=l(0,0),Ue=6,ze=E(0,0,1);class Me extends V{constructor(){super(...arguments),this.renderOccluded=G.Occlude,this.isDecoration=!1,this.color=x(1,1,1,1),this.polygonOffset=!1,this.anchorPosition=l(.5,.5),this.screenOffset=[0,0],this.shaderPolygonOffset=1e-5,this.textureIsSignedDistanceField=!1,this.sampleSignedDistanceFieldTexelCenter=!1,this.outlineColor=x(1,1,1,1),this.outlineSize=0,this.distanceFieldBoundingBox=I(),this.rotation=0,this.hasRotation=!1,this.vvSizeEnabled=!1,this.vvSize=null,this.vvColor=null,this.vvOpacity=null,this.vvSymbolAnchor=null,this.vvSymbolRotationMatrix=null,this.hasSlicePlane=!1,this.pixelSnappingEnabled=!0,this.occlusionTest=!0,this.occludedFragmentFade=!1,this.horizonCullingEnabled=!1,this.centerOffsetUnits=\"world\",this.drawAsLabel=!1,this.depthEnabled=!0,this.isFocused=!0,this.focusStyle=\"bright\",this.draped=!1,this.isLabel=!1}}const we=U().vec3f(J.POSITION).vec3f(J.NORMAL).vec2i16(J.UVI).vec4u8(J.COLOR).vec2f(J.SIZE).f32(J.ROTATION).vec4f(J.CENTEROFFSETANDDISTANCE).vec4f(J.FEATUREATTRIBUTE),Be=we.clone().vec4u8(J.OLIDCOLOR);class Ve{constructor(){this.vertexBufferLayout=B()?Be:we}elementCount(e){return e.get(J.POSITION).indices.length*Ue}write(e,t,i,s,r,a){const{position:n,normal:o,uvi:l,color:c,size:f,rotation:u,centerOffsetAndDistance:p,featureAttribute:h}=r;Q(i.get(J.POSITION),e,n,a,Ue),$(i.get(J.NORMAL),t,o,a,Ue);const m=i.get(J.UVI)?.data;let d=0,g=0,O=-1-oe,S=-1-oe;m&&m.length>=4&&(d=m[0],g=m[1],O=-1-m[2],S=-1-m[3]);let T=i.get(J.POSITION).indices.length,b=a;for(let E=0;E<T;++E)l.set(b,0,d),l.set(b,1,g),b++,l.set(b,0,O),l.set(b,1,g),b++,l.set(b,0,O),l.set(b,1,S),b++,l.set(b,0,O),l.set(b,1,S),b++,l.set(b,0,d),l.set(b,1,S),b++,l.set(b,0,d),l.set(b,1,g),b++;ee(i.get(J.COLOR),4,c,a,Ue);const{data:v,indices:A}=i.get(J.SIZE);T=A.length,b=a;for(let E=0;E<T;++E){const e=v[2*A[E]],t=v[2*A[E]+1];for(let i=0;i<Ue;++i)f.set(b,0,e),f.set(b,1,t),b++}if(te(i.get(J.ROTATION),u,a,Ue),i.get(J.CENTEROFFSETANDDISTANCE)?ie(i.get(J.CENTEROFFSETANDDISTANCE),p,a,Ue):se(p,a,T*Ue),i.get(J.FEATUREATTRIBUTE)?ie(i.get(J.FEATUREATTRIBUTE),h,a,Ue):se(h,a,T*Ue),null!=s){const e=i.get(J.POSITION)?.indices;if(e){const t=e.length,i=r.getField(J.OLIDCOLOR,_);re(s,i,t,a,Ue)}}return{numVerticesPerItem:Ue,numItems:T}}intersect(e,t,i,s,a,n,o){const{options:{selectionMode:l,hud:c,excludeLabels:T},point:b,camera:v}=s;if(!l||!c||T&&t.isLabel||!b)return;const E=this.vertexBufferLayout.createView(e),R=E.getField(J.POSITION,C),I=E.getField(J.NORMAL,C),x=E.getField(J.ROTATION,y),F=E.getField(J.SIZE,D),P=E.getField(J.FEATUREATTRIBUTE,L),_=E.getField(J.CENTEROFFSETANDDISTANCE,L),N=\"screen\"===t.centerOffsetUnits,j=ne(t);if(null==R||null==I||null==x||null==F||null==_||null==v)return;const U=null==P?null:P.getVec(0,ye),{scaleX:z,scaleY:M}=Xe(U,t,v.pixelRatio),w=R.count/Ue;for(let C=0;C<w;C++){const e=C*Ue;if(R.getVec(e,Se),null!=i&&S(Se,Se,i),u(Se,Se,v.viewMatrix),_.getVec(e,Pe),f(_e,Pe[0],Pe[1],Pe[2]),!N&&(Se[0]+=_e[0],Se[1]+=_e[1],0!==_e[2])){const e=_e[2];p(_e,Se),h(Se,Se,m(_e,_e,e))}if(I.getVec(e,Te),me(Te,Ie,v,De),qe(t,Se,De,v,Oe),v.applyProjection(Se,be),be[0]>-1){N&&(_e[0]||_e[1])&&(be[0]+=_e[0]*v.pixelRatio,0!==_e[1]&&(be[1]+=W(_e[1],Oe.factorAlignment)*v.pixelRatio),v.unapplyProjection(be,Se)),be[0]+=t.screenOffset[0]*v.pixelRatio,be[1]+=t.screenOffset[1]*v.pixelRatio,be[0]=Math.floor(be[0]),be[1]=Math.floor(be[1]),F.getVec(e,je),Y(je,Oe.factor,je);const i=Le*v.pixelRatio;let a=0;if(t.textureIsSignedDistanceField){a=Math.min(t.outlineSize,.5*je[0])*v.pixelRatio/2}je[0]*=z,je[1]*=M;const n=x.get(e),l=t.rotation+n;if(ge(b,be[0],be[1],je,i,a,l,t,j)){const e=s.ray;if(u(Ae,Se,r(Fe,v.viewMatrix)),be[0]=b[0],be[1]=b[1],v.unprojectFromRenderScreen(be,Se)){const t=A();d(t,e.direction);const i=1/g(t);m(t,t,i);o(O(e.origin,Se)*i,t,C,Ae)}}}}}}function Xe(e,t,i){return null==e||null==t.vvSize?{scaleX:i,scaleY:i}:(N(Ce,t,e),{scaleX:Ce[0]*i,scaleY:Ce[1]*i})}function qe(e,t,i,s,r){if(!e.verticalOffset?.screenLength){if(e.screenSizePerspective||e.screenSizePerspectiveAlignment){Ge(e,r,g(t),i.cosAngle)}else r.factor.scale=1,r.factorAlignment.scale=1;return t}const a=g(t),n=e.screenSizePerspectiveAlignment??e.screenSizePerspective,o=ae(s,a,e.verticalOffset,i.cosAngle,n);return Ge(e,r,a,i.cosAngle),m(i.normal,i.normal,o),S(t,t,i.normal)}function Ge(e,t,i,s){null!=e.screenSizePerspective?Z(s,i,e.screenSizePerspective,t.factor):(t.factor.scale=1,t.factor.factor=0,t.factor.minScaleFactor=0),null!=e.screenSizePerspectiveAlignment?Z(s,i,e.screenSizePerspectiveAlignment,t.factorAlignment):(t.factorAlignment.factor=t.factor.factor,t.factorAlignment.scale=t.factor.scale,t.factorAlignment.minScaleFactor=t.factor.minScaleFactor)}export{ue as HUDMaterial,Me as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{copy as e,set as o}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as i}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{ZEROS as r,fromValues as t}from\"../core/libs/gl-matrix-2/factories/vec4f64.js\";import{earth as l}from\"../geometry/support/Ellipsoid.js\";import{ShaderOutput as a}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{RejectBySlice as s}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{ObjectAndLayerIdColor as n}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{AlignPixel as c}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/AlignPixel.glsl.js\";import{HUD as d}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUD.glsl.js\";import{HUDOcclusionPass as u}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDOcclusionPass.glsl.js\";import{HUDVisibility as f}from\"../views/3d/webgl-engine/core/shaderLibrary/hud/HUDVisibility.glsl.js\";import{OutputHighlight as p}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{VisualVariables as m}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js\";import{ColorConversion as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{RgbaFloatEncoding as v}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{ScreenSizePerspective as b,addScreenSizePerspective as h,addScreenSizePerspectiveAlignment as x}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js\";import{addPixelRatio as w}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float2PassUniform as C}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float4BindUniform as P}from\"../views/3d/webgl-engine/core/shaderModules/Float4BindUniform.js\";import{Float4DrawUniform as z}from\"../views/3d/webgl-engine/core/shaderModules/Float4DrawUniform.js\";import{Float4PassUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatBindUniform as j}from\"../views/3d/webgl-engine/core/shaderModules/FloatBindUniform.js\";import{FloatPassUniform as y}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as A,If as O}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DBindUniform as $}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DBindUniform.js\";import{Texture2DPassUniform as F}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{OITPass as T}from\"../views/3d/webgl-engine/lib/OITPass.js\";import{VertexAttribute as D}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as E}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as L}from\"../webscene/support/AlphaCutoff.js\";function B(e){const i=new E,{signedDistanceFieldEnabled:B,occlusionTestEnabled:H,horizonCullingEnabled:V,pixelSnappingEnabled:_,hasScreenSizePerspective:q,debugDrawLabelBorder:k,vvSize:G,vvColor:N,hasRotation:Z,occludedFragmentFade:J,sampleSignedDistanceFieldTexelCenter:K}=e;i.include(d,e),i.vertex.include(s,e);const{occlusionPass:Q,output:W,oitPass:X}=e;if(Q)return i.include(u,e),i;const{vertex:Y,fragment:ee}=i;i.include(b),i.include(m,e),i.include(n,e),H&&i.include(f),ee.include(v),ee.include(g),i.varyings.add(\"vcolor\",\"vec4\"),i.varyings.add(\"vtc\",\"vec2\"),i.varyings.add(\"vsize\",\"vec2\");const oe=W===a.Highlight,ie=oe&&H;ie&&i.varyings.add(\"voccluded\",\"float\"),Y.uniforms.add(new P(\"viewport\",(e=>e.camera.fullViewport)),new C(\"screenOffset\",((e,i)=>o(R,2*e.screenOffset[0]*i.camera.pixelRatio,2*e.screenOffset[1]*i.camera.pixelRatio))),new C(\"anchorPosition\",(e=>M(e))),new S(\"materialColor\",(e=>e.color)),new y(\"materialRotation\",(e=>e.rotation)),new F(\"tex\",(e=>e.texture))),w(Y),B&&(Y.uniforms.add(new S(\"outlineColor\",(e=>e.outlineColor))),ee.uniforms.add(new S(\"outlineColor\",(e=>U(e)?e.outlineColor:r)),new y(\"outlineSize\",(e=>U(e)?e.outlineSize:0)))),V&&Y.uniforms.add(new z(\"pointDistanceSphere\",((e,o)=>{const i=o.camera.eye,r=e.origin;return t(r[0]-i[0],r[1]-i[1],r[2]-i[2],l.radius)}))),_&&Y.include(c),q&&(h(Y),x(Y)),k&&i.varyings.add(\"debugBorderCoords\",\"vec4\"),i.attributes.add(D.UVI,\"vec2\"),i.attributes.add(D.COLOR,\"vec4\"),i.attributes.add(D.SIZE,\"vec2\"),i.attributes.add(D.ROTATION,\"float\"),(G||N)&&i.attributes.add(D.FEATUREATTRIBUTE,\"vec4\"),Y.code.add(V?A`bool behindHorizon(vec3 posModel) {\nvec3 camToEarthCenter = pointDistanceSphere.xyz - localOrigin;\nvec3 camToPos = pointDistanceSphere.xyz + posModel;\nfloat earthRadius = pointDistanceSphere.w;\nfloat a = dot(camToPos, camToPos);\nfloat b = dot(camToPos, camToEarthCenter);\nfloat c = dot(camToEarthCenter, camToEarthCenter) - earthRadius * earthRadius;\nreturn b > 0.0 && b < a && b * b  > a * c;\n}`:A`bool behindHorizon(vec3 posModel) { return false; }`),Y.main.add(A`\n    ProjectHUDAux projectAux;\n    vec4 posProj = projectPositionHUD(projectAux);\n    forwardObjectAndLayerIdColor();\n\n    if (rejectBySlice(projectAux.posModel)) {\n      // Project outside of clip plane\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n      return;\n    }\n\n    if (behindHorizon(projectAux.posModel)) {\n      // Project outside of clip plane\n      gl_Position = vec4(1e038, 1e038, 1e038, 1.0);\n      return;\n    }\n\n    vec2 inputSize;\n    ${O(q,A`\n        inputSize = screenSizePerspectiveScaleVec2(size, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspective);\n        vec2 screenOffsetScaled = screenSizePerspectiveScaleVec2(screenOffset, projectAux.absCosAngle, projectAux.distanceToCamera, screenSizePerspectiveAlignment);`,A`\n        inputSize = size;\n        vec2 screenOffsetScaled = screenOffset;`)}\n    ${O(G,A`inputSize *= vvScale(featureAttribute).xx;`)}\n\n    vec2 combinedSize = inputSize * pixelRatio;\n    vec4 quadOffset = vec4(0.0);\n\n    ${O(H,A`\n    bool visible = testHUDVisibility(posProj);\n    if (!visible) {\n      vtc = vec2(0.0);\n      ${O(k,\"debugBorderCoords = vec4(0.5, 0.5, 1.5 / combinedSize);\")}\n      return;\n    }`)}\n    ${O(ie,A`voccluded = visible ? 0.0 : 1.0;`)}\n  `);const re=A`\n      vec2 uvi1 = vec2(uvi.x < 0.0 ? 1.0 : 0.0, uvi.y < 0.0 ? 1.0 : 0.0);\n      vec2 uv = abs(uvi + uvi1);\n      vec2 texSize = vec2(textureSize(tex, 0));\n      uv.x = uv.x >= ${I} ? 1.0 : uv.x / texSize.x;\n      uv.y = uv.y >= ${I} ? 1.0 : uv.y / texSize.y;\n      quadOffset.xy = (uvi1 - anchorPosition) * 2.0 * combinedSize;\n\n      ${O(Z,A`\n          float angle = radians(materialRotation + rotation);\n          float cosAngle = cos(angle);\n          float sinAngle = sin(angle);\n          mat2 rotate = mat2(cosAngle, -sinAngle, sinAngle,  cosAngle);\n\n          quadOffset.xy = rotate * quadOffset.xy;\n        `)}\n\n      quadOffset.xy = (quadOffset.xy + screenOffsetScaled) / viewport.zw * posProj.w;\n  `,te=_?B?A`posProj = alignToPixelOrigin(posProj, viewport.zw) + quadOffset;`:A`posProj += quadOffset;\nif (inputSize.x == size.x) {\nposProj = alignToPixelOrigin(posProj, viewport.zw);\n}`:A`posProj += quadOffset;`;Y.main.add(A`\n    ${re}\n    ${N?\"vcolor = interpolateVVColor(featureAttribute.y) * materialColor;\":\"vcolor = color / 255.0 * materialColor;\"}\n\n    ${O(W===a.ObjectAndLayerIdColor,A`vcolor.a = 1.0;`)}\n\n    bool alphaDiscard = vcolor.a < ${A.float(L)};\n    ${O(B,`alphaDiscard = alphaDiscard && outlineColor.a < ${A.float(L)};`)}\n    if (alphaDiscard) {\n      // \"early discard\" if both symbol color (= fill) and outline color (if applicable) are transparent\n      gl_Position = vec4(1e38, 1e38, 1e38, 1.0);\n      return;\n    } else {\n      ${te}\n      gl_Position = posProj;\n    }\n\n    vtc = uv;\n\n    ${O(k,A`debugBorderCoords = vec4(uv01, 1.5 / combinedSize);`)}\n    vsize = inputSize;\n  `),ee.uniforms.add(new F(\"tex\",(e=>e.texture))),J&&!oe&&ee.uniforms.add(new $(\"depthMap\",(e=>e.mainDepth)),new j(\"occludedOpacity\",(e=>e.hudOccludedFragmentOpacity)));const le=k?A`(isBorder > 0.0 ? 0.0 : ${A.float(L)})`:A.float(L),ae=A`\n    ${O(k,A`float isBorder = float(any(lessThan(debugBorderCoords.xy, debugBorderCoords.zw)) || any(greaterThan(debugBorderCoords.xy, 1.0 - debugBorderCoords.zw)));`)}\n\n    vec2 samplePos = vtc;\n\n    ${O(K,A`\n      float txSize = float(textureSize(tex, 0).x);\n      float texelSize = 1.0 / txSize;\n\n      // Calculate how much we have to add/subtract to/from each texel to reach the size of an onscreen pixel\n      vec2 scaleFactor = (vsize - txSize) * texelSize;\n      samplePos += (vec2(1.0, -1.0) * texelSize) * scaleFactor;`)}\n\n    ${B?A`\n      vec4 fillPixelColor = vcolor;\n\n      // Get distance and map it into [-0.5, 0.5]\n      float d = rgbaTofloat(texture(tex, samplePos)) - 0.5;\n\n      // Distance in output units (i.e. pixels)\n      float dist = d * vsize.x;\n\n      // Create smooth transition from the icon into its outline\n      float fillAlphaFactor = clamp(0.5 - dist, 0.0, 1.0);\n      fillPixelColor.a *= fillAlphaFactor;\n\n      if (outlineSize > 0.25) {\n        vec4 outlinePixelColor = outlineColor;\n        float clampedOutlineSize = min(outlineSize, 0.5*vsize.x);\n\n        // Create smooth transition around outline\n        float outlineAlphaFactor = clamp(0.5 - (abs(dist) - 0.5*clampedOutlineSize), 0.0, 1.0);\n        outlinePixelColor.a *= outlineAlphaFactor;\n\n        if (\n          outlineAlphaFactor + fillAlphaFactor < ${le} ||\n          fillPixelColor.a + outlinePixelColor.a < ${A.float(L)}\n        ) {\n          discard;\n        }\n\n        // perform un-premultiplied over operator (see https://en.wikipedia.org/wiki/Alpha_compositing#Description)\n        float compositeAlpha = outlinePixelColor.a + fillPixelColor.a * (1.0 - outlinePixelColor.a);\n        vec3 compositeColor = vec3(outlinePixelColor) * outlinePixelColor.a +\n          vec3(fillPixelColor) * fillPixelColor.a * (1.0 - outlinePixelColor.a);\n\n        ${O(!oe,A`fragColor = vec4(compositeColor, compositeAlpha);`)}\n      } else {\n        if (fillAlphaFactor < ${le}) {\n          discard;\n        }\n\n        ${O(!oe,A`fragColor = premultiplyAlpha(fillPixelColor);`)}\n      }\n\n      // visualize SDF:\n      // fragColor = vec4(clamp(-dist/vsize.x*2.0, 0.0, 1.0), clamp(dist/vsize.x*2.0, 0.0, 1.0), 0.0, 1.0);\n      `:A`\n          vec4 texColor = texture(tex, samplePos, -0.5);\n          if (texColor.a < ${le}) {\n            discard;\n          }\n          ${O(!oe,A`fragColor = texColor * premultiplyAlpha(vcolor);`)}\n          `}\n\n    ${O(J&&!oe,A`\n        float zSample = texelFetch(depthMap, ivec2(gl_FragCoord.xy), 0).x;\n        if (zSample < gl_FragCoord.z) {\n          fragColor *= occludedOpacity;\n        }\n        `)}\n\n    ${O(!oe&&k,A`fragColor = mix(fragColor, vec4(1.0, 0.0, 1.0, 1.0), isBorder * 0.5);`)}\n  `;switch(W){case a.Color:case a.ColorEmission:i.outputs.add(\"fragColor\",\"vec4\",0),W===a.ColorEmission&&i.outputs.add(\"fragEmission\",\"vec4\",1),X===T.ColorAlpha&&i.outputs.add(\"fragAlpha\",\"float\",W===a.ColorEmission?2:1),ee.main.add(A`\n        ${ae}\n        ${O(X===T.FrontFace,A`fragColor.rgb /= fragColor.a;`)}\n        ${O(W===a.ColorEmission,A`fragEmission = vec4(0.0);`)}\n        ${O(X===T.ColorAlpha,A`fragAlpha = fragColor.a;`)}`);break;case a.ObjectAndLayerIdColor:ee.main.add(A`\n        ${ae}\n        outputObjectAndLayerIdColor();`);break;case a.Highlight:i.include(p,e),ee.main.add(A`\n        ${ae}\n        outputHighlight(${O(ie,A`voccluded == 1.0`,A`false`)});`)}return i}function U(e){return e.outlineColor[3]>0&&e.outlineSize>0}function M(o){return o.textureIsSignedDistanceField?H(o.anchorPosition,o.distanceFieldBoundingBox,R):e(R,o.anchorPosition),R}function H(e,i,r){o(r,e[0]*(i[2]-i[0])+i[0],e[1]*(i[3]-i[1])+i[1])}const R=i(),V=32e3,I=A.float(V),_=Object.freeze(Object.defineProperty({__proto__:null,build:B,calculateAnchorPosition:M,fullUV:V},Symbol.toStringTag,{value:\"Module\"}));export{_ as H,B as b,M as c,V as f};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{AlignPixel as e}from\"./AlignPixel.glsl.js\";import{terrainDepthTest as o}from\"../shading/TerrainDepthTest.glsl.js\";import{glsl as r}from\"../../shaderModules/glsl.js\";function i(i,t){const{vertex:s,fragment:p}=i;i.include(o,t),s.include(e),s.main.add(r`vec4 posProjCenter;\nif (dot(position, position) > 0.0) {\nProjectHUDAux projectAux;\nvec4 posProj = projectPositionHUD(projectAux);\nposProjCenter = alignToPixelCenter(posProj, viewport.zw);\nforwardViewPosDepth(projectAux.posView);\nvec3 vpos = projectAux.posModel;\nif (rejectBySlice(vpos)) {\nposProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n}\n} else {\nposProjCenter = vec4(1e038, 1e038, 1e038, 1.0);\n}\ngl_Position = posProjCenter;\ngl_PointSize = 1.0;`),p.main.add(r`fragColor = vec4(1);\nif(discardByTerrainDepth()) {\nfragColor.g = 0.5;\n}`)}export{i as HUDOcclusionPass};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.33/esri/copyright.txt for details.\n*/\nimport{create as r}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{initializeProjection as t}from\"../projectionUtils.js\";import{projectVectorToVector as e}from\"./projectVectorToVector.js\";function o(r,t,o){return!!e(r,t,i,o.spatialReference)&&(o.x=i[0],o.y=i[1],o.z=i[2],!0)}async function c(r,e,c,i){return await t(e,c.spatialReference,null,i),o(r,e,c)}const i=r();export{o as projectVectorToPoint,c as projectVectorToPointAsync};\n"],"names":["t","n","Float32Array","length","Array","isArray","r","c","constructor","this","scale","factor","minScaleFactor","h","o","e","super","s","primitiveType","occlusionPass","a","POINTS","TRIANGLES","initializePipeline","oitPass","hasPolygonOffset","draped","output","depthTestEnabled","T","g","j","NONE","b","ColorAlpha","O","Highlight","P","u","blending","d","l","depthTest","func","p","LEQUAL","depthWrite","m","drawBuffers","i","colorWrite","polygonOffset","f","units","spherical","screenCenterOffsetUnitsEnabled","occlusionTestEnabled","signedDistanceFieldEnabled","sampleSignedDistanceFieldTexelCenter","vvSize","vvColor","hasVerticalOffset","hasScreenSizePerspective","hasRotation","debugDrawLabelBorder","pixelSnappingEnabled","terrainDepthTest","cullAboveTerrain","occludedFragmentFade","objectAndLayerIdColorInstanced","horizonCullingEnabled","isFocused","textureCoordinateType","None","emissionSource","discardInvisibleFragments","hasVvInstancing","snowCover","prototype","ue","q","Me","produces","Map","H","HUD_MATERIAL","z","parameters","drawAsLabel","LABEL_MATERIAL","OCCLUSION_PIXELS","occlusionTest","DRAPED_MATERIAL","_visible","_configuration","ce","getConfiguration","hasSlicePlane","verticalOffset","screenSizePerspective","centerOffsetUnits","textureIsSignedDistanceField","slot","depthEnabled","M","LABELS_SHOW_BORDER","intersect","options","selectionMode","hud","excludeLabels","S","point","camera","v","isLabel","visible","E","attributes","get","J","FEATUREATTRIBUTE","I","R","data","ye","scaleX","x","scaleY","F","Xe","pixelRatio","Ie","has","Math","sqrt","de","POSITION","_","SIZE","C","NORMAL","y","ROTATION","D","CENTEROFFSETANDDISTANCE","k","size","L","ne","N","Se","viewMatrix","_e","Te","me","De","qe","Oe","applyProjection","be","W","factorAlignment","unapplyProjection","screenOffset","floor","je","Y","Le","min","outlineSize","rotation","ge","ray","Ae","Fe","unprojectFromRenderScreen","A","direction","origin","intersectDraped","screenToWorldRatio","Ne","distance","normal","createBufferWriter","Ve","applyShaderOffsetsView","_applyVerticalGroundOffsetView","_applyPolygonOffsetView","_applyCenterOffsetView","applyShaderOffsetsNDC","_applyCenterOffsetNDC","_applyPolygonOffsetNDC","aboveGround","sign","shaderPolygonOffset","abs","cosAngle","viewport","computeRenderPixelSizeAtDist","w","fullWidth","fullHeight","color","outlineColor","fe","createGLMaterial","pe","calculateRelativeScreenBounds","arguments","undefined","anchorPosition","he","X","_objectSpread","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","getTechnique","le","xe","viewInverseTransposeMatrix","ve","ze","distanceFieldBoundingBox","Re","Ee","Pe","Ce","V","renderOccluded","G","Occlude","isDecoration","vvSizeEnabled","vvOpacity","vvSymbolAnchor","vvSymbolRotationMatrix","focusStyle","we","U","vec3f","vec2i16","UVI","vec4u8","COLOR","vec2f","f32","vec4f","Be","clone","OLIDCOLOR","vertexBufferLayout","B","elementCount","indices","write","_i$get","position","uvi","centerOffsetAndDistance","featureAttribute","Q","$","oe","set","ee","te","ie","se","_i$get2","getField","re","numVerticesPerItem","numItems","createView","getVec","count","_e$verticalOffset","_e$screenSizePerspect","screenLength","screenSizePerspectiveAlignment","Ge","ae","Z","K","include","vertex","fragment","varyings","add","uniforms","fullViewport","texture","eye","radius","code","_templateObject","_taggedTemplateLiteral","_templateObject2","main","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject0","_templateObject1","_templateObject10","_templateObject11","_templateObject12","ObjectAndLayerIdColor","_templateObject13","float","concat","_templateObject14","mainDepth","hudOccludedFragmentOpacity","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","_templateObject22","_templateObject23","_templateObject24","_templateObject25","Color","ColorEmission","outputs","_templateObject26","FrontFace","_templateObject27","_templateObject28","_templateObject29","_templateObject30","_templateObject31","_templateObject32","_templateObject33","Object","freeze","defineProperty","__proto__","build","calculateAnchorPosition","fullUV","Symbol","toStringTag","value","spatialReference"],"sourceRoot":""}