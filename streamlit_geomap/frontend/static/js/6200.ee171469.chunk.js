"use strict";(self.webpackChunkstreamlit_geomap_frontend=self.webpackChunkstreamlit_geomap_frontend||[]).push([[4610,6200,7995],{1484:(t,e,r)=>{r.d(e,{A:()=>n});var s=r(97255);class n{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lengths=null!==t&&void 0!==t?t:[],this.coords=null!==e&&void 0!==e?e:[]}static fromJSON(t){return new n(t.lengths,t.coords)}static fromRect(t){const[e,r,s,a]=t,o=s-e,i=a-r;return new n([5],[e,r,o,0,0,i,-o,0,0,-i])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,e)=>t+e)}get usedMemory(){return 64+(0,s.Qf)(this.lengths,this.coords)}area(){let t=0,e=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){const s=this.lengths[r];if(s<3)continue;let n=this.coords[2*e],a=this.coords[2*e+1];for(let r=1;r<s;r+=1){const s=this.coords[2*(r+e)],o=this.coords[2*(r+e)+1];t+=-.5*(s-n)*(o+a),n=s,a=o}e+=s}return t}forEachVertex(t){let e=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){const s=this.lengths[r];for(let r=0;r<s;r++)t(this.coords[2*(r+e)],this.coords[2*(r+e)+1]);e+=s}}deltaDecode(){const t=this.clone(),{coords:e,lengths:r}=t;let s=0;for(const n of r){for(let t=1;t<n;t++)e[2*(s+t)]+=e[2*(s+t)-2],e[2*(s+t)+1]+=e[2*(s+t)-1];s+=n}return t}clone(t){if(0===this.lengths.length)return new n([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce((t,e)=>t+e)),r=this.coords.slice(0,e);return t?(t.set(r),new n(this.lengths,t)):new n(Array.from(this.lengths),Array.from(r))}}},4336:(t,e,r)=>{function s(){return[0,0,0,1]}function n(t){return[t[0],t[1],t[2],t[3]]}r.d(e,{o8:()=>n,vt:()=>s,zK:()=>a});const a=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a,clone:n,create:s,fromValues:function(t,e,r,s){return[t,e,r,s]}},Symbol.toStringTag,{value:"Module"}))},5845:(t,e,r)=>{r.d(e,{A:()=>d});var s=r(35143),n=r(69098),a=r(42553),o=r(46053),i=(r(81806),r(76460),r(47249),r(6409)),l=r(85842),u=r(9392);let d=class extends(n.A.ClonableMixin(a.A)){constructor(t){super(t),this.type="local",this.origin=(0,u.vt)()}};(0,s._)([(0,i.e)({local:"local"},{readOnly:!0})],d.prototype,"type",void 0),(0,s._)([(0,o.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"origin",void 0),d=(0,s._)([(0,l.$)("esri.geometry.support.MeshLocalVertexSpace")],d)},8298:(t,e,r)=>{r.d(e,{F:()=>s,P:()=>n});const s={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!0,supportsCurrentUser:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsPaginationOnAggregatedQueries:!1,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!0,supportsReturnMesh:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByAnonymous:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,maxUniqueIDCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0,supportsTrueCurve:!1},n={supportsDate:!0,supportsFixedInterval:!0,supportsAutoInterval:!0,supportsFixedBoundaries:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsSnapToData:!1,supportsReturnFullIntervalBin:!1,supportsFirstDayOfWeek:!1,supportsNormalization:!0,supportedStatistics:{count:!0,sum:!0,avg:!0,var:!0,stddev:!0,min:!0,max:!0,percentileContinuous:!0,percentileDiscrete:!0,envelope:!0,centroid:!0,convexHull:!0},supportedNormalizationTypes:{field:!0,log:!0,naturalLog:!0,percentOfTotal:!0,squareRoot:!0}}},13191:(t,e,r)=>{function s(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function n(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function a(t,e,r,s,n,a,o,i,l,u,d,c,p,h,y,f){return[t,e,r,s,n,a,o,i,l,u,d,c,p,h,y,f]}r.d(e,{fA:()=>a,o8:()=>n,vt:()=>s,zK:()=>o});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:n,create:s,fromValues:a},Symbol.toStringTag,{value:"Module"}))},14894:(t,e,r)=>{r.d(e,{A:()=>c});var s,n,a=r(35143),o=r(69098),i=r(42553),l=r(46053),u=(r(81806),r(76460),r(47249),r(6409)),d=r(85842);let c=(n=s=class extends(o.A.ClonableMixin(i.A)){constructor(t){super(t),this.type="georeferenced",this.origin=null}},s.absolute=new n,s);(0,a._)([(0,u.e)({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0),(0,a._)([(0,l.MZ)({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0),c=n=(0,a._)([(0,d.$)("esri.geometry.support.MeshGeoreferencedVertexSpace")],c)},20176:(t,e,r)=>{r.d(e,{N3:()=>l,Om:()=>i});var s=r(89379),n=r(97255),a=r(90321),o=r(1484);class i{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.geometry=t,this.attributes=e,this.centroid=r,this.objectId=s,this.displayId=n}static fromJSON(t){const e=t.geometry?o.A.fromJSON(t.geometry):null,r=t.centroid?o.A.fromJSON(t.centroid):null,s=t.objectId;return new i(e,t.attributes,r,s)}weakClone(){const t=new i(this.geometry,this.attributes,this.centroid,this.objectId);return t.displayId=this.displayId,t}clone(){var t,e;const r=null===(t=this.geometry)||void 0===t?void 0:t.clone(),n=new i(r,(0,s.A)({},this.attributes),null===(e=this.centroid)||void 0===e?void 0:e.clone(),this.objectId);return n.displayId=this.displayId,n}ensureCentroid(t){var e;return null!==(e=this.centroid)&&void 0!==e||(this.centroid=(0,a.Q)(new o.A,this.geometry,t.hasZ,t.hasM)),this.centroid}get usedMemory(){var t,e;return 128+(0,n.lM)(this.attributes)+(null!==(t=null===(e=this.geometry)||void 0===e?void 0:e.usedMemory)&&void 0!==t?t:0)}}function l(t){var e;return!(null===(e=t.geometry)||void 0===e||null===(e=e.coords)||void 0===e||!e.length)}},32186:(t,e,r)=>{r.d(e,{A:()=>f});var s,n,a=r(35143),o=r(42553),i=r(46053),l=(r(81806),r(76460),r(47249),r(85842)),u=r(34761),d=r(13191),c=r(60008),p=r(4336),h=r(9392),y=r(52896);let f=(s=class extends o.A{constructor(t){super(t),this.translation=(0,h.vt)(),this.rotationAxis=(0,h.ci)(y.up),this.rotationAngle=0,this.scale=(0,h.fA)(1,1,1)}get rotation(){return(0,y.i4)(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=(0,h.o8)((0,y.yo)(t)),this.rotationAngle=(0,y.g7)(t)}get localMatrix(){const t=(0,d.vt)();return(0,c.x8)(g,(0,y.yo)(this.rotation),(0,y.$I)(this.rotation)),(0,u.o1)(t,g,this.translation,this.scale),t}get localMatrixInverse(){return(0,u.B8)((0,d.vt)(),this.localMatrix)}equals(t){return this===t||null!=t&&(0,u.t2)(this.localMatrix,t.localMatrix)}clone(){const t={translation:(0,h.o8)(this.translation),rotationAxis:(0,h.o8)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,h.o8)(this.scale)};return new n(t)}},n=s,s);(0,a._)([(0,i.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"translation",void 0),(0,a._)([(0,i.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAxis",void 0),(0,a._)([(0,i.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],f.prototype,"rotationAngle",void 0),(0,a._)([(0,i.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],f.prototype,"scale",void 0),(0,a._)([(0,i.MZ)()],f.prototype,"rotation",null),(0,a._)([(0,i.MZ)()],f.prototype,"localMatrix",null),(0,a._)([(0,i.MZ)()],f.prototype,"localMatrixInverse",null),f=n=(0,a._)([(0,l.$)("esri.geometry.support.MeshTransform")],f);const g=(0,p.vt)()},40296:(t,e,r)=>{r.d(e,{F0:()=>l,Vx:()=>c,e2:()=>h,f:()=>y});var s=r(89379),n=r(81806),a=r(53084),o=r(8298),i=r(44460);function l(t){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===t||"esriGeometryMultipoint"===t?i.Cb:"esriGeometryPolyline"===t?i.yM:i.WR}}}const u=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let d=1;function c(t,e){if((0,n.A)("esri-csp-restrictions"))return()=>(0,s.A)({[e]:null},t);try{let r="this".concat(p(e)," = null;");for(const e in t)r+="this".concat(p(e)," = ").concat(JSON.stringify(t[e]),";");const s=new Function("\n      return class AttributesClass$".concat(d++," {\n        constructor() {\n          ").concat(r,";\n        }\n      }\n    "))();return()=>new s}catch(r){return()=>(0,s.A)({[e]:null},t)}}function p(t){return u.test(t)?".".concat(t):'["'.concat(t,'"]')}function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,a.o8)(t)}}]}function y(t,e){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:t},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:e,supportsDelete:e,supportsEditing:e,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:e,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:o.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:o.P,editing:{supportsGeometryUpdate:e,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},44680:(t,e,r)=>{function s(){return[1,0,0,0,1,0,0,0,1]}function n(t,e,r,s,n,a,o,i,l){return[t,e,r,s,n,a,o,i,l]}r.d(e,{fA:()=>n,vt:()=>s,zK:()=>a});const a=[1,0,0,0,1,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:a,clone:function(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]},create:s,fromValues:n},Symbol.toStringTag,{value:"Module"}))},52896:(t,e,r)=>{r.d(e,{$I:()=>m,AU:()=>y,Cr:()=>c,g7:()=>g,i4:()=>d,ui:()=>p,up:()=>A,vt:()=>u,yo:()=>f});var s=r(15941),n=r(34761),a=r(60008),o=r(4336),i=r(20664),l=r(9392);function u(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;return[t[0],t[1],t[2],t[3]]}function d(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return(0,i.c)(r,t),r[3]=e,r}function c(t,e,r){return(0,i.h)(r,t,e),(0,i.n)(r,r),r[3]=-(0,i.p)(t,e),r}function p(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u();const r=(0,n.l)(b,t);return v(e,(0,s.KJ)((0,a.Xd)(e,r))),e}function h(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u();return(0,a.x8)(b,t,m(t)),(0,a.x8)(w,e,m(e)),(0,a.lw)(b,w,b),v(r,(0,s.KJ)((0,a.Xd)(r,b)))}function y(t,e,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u();return d(l.Cw,t,I),d(l.JP,e,F),d(l.Cb,r,S),h(I,F,I),h(I,S,s),s}function f(t){return t}function g(t){return t[3]}function m(t){return(0,s.kU)(t[3])}function v(t,e){return t[3]=e,t}const A=[0,0,1,0],b=(0,o.vt)(),w=(0,o.vt)(),I=(u(),u()),F=u(),S=u()},54610:(t,e,r)=>{r.d(e,{applyEdits:()=>F,r3:()=>b,uploadAssets:()=>_,zp:()=>I});var s=r(89379),n=r(39356),a=r(94643),o=r(50076),i=r(53084),l=r(76460),u=r(50346),d=r(90534),c=r(49723),p=r(1438),h=r(80963),y=r(61979),f=r(53430),g=r(19463),m=r(31933);function v(t){return null!=(null===t||void 0===t?void 0:t.applyEdits)}function A(t){return"object"==typeof t&&null!=t&&"objectId"in t&&!!t.objectId}function b(t){return t.every(A)}function w(t){return"object"==typeof t&&null!=t&&"globalId"in t&&!!t.globalId}function I(t){return t.every(w)}async function F(t,e,r){var n;let d,p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const h="gdbVersion"in t?t.gdbVersion:null,f=null!==(n=p.gdbVersion)&&void 0!==n?n:h;if((0,y.Mk)(t)&&t.url)d=(0,y.Zk)(t.url,t.layerId,f,"original-and-current-features"===p.returnServiceEditsOption);else{d=(0,u.Tw)(),d.promise.then(e=>{(e.addedFeatures.length||e.updatedFeatures.length||e.deletedFeatures.length||e.addedAttachments.length||e.updatedAttachments.length||e.deletedAttachments.length)&&t.emit("edits",e)});const e={result:d.promise};t.emit("apply-edits",e)}try{var A;const{results:n,edits:u}=await async function(t,e,r,n){var i,u,d,p,h,y;if(await t.load(),!v(e))throw new o.A("".concat(t.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:t});if(!(0,m.tk)(t))throw new o.A("".concat(t.type,"-layer:editing-disabled"),"Editing is disabled for layer",{layer:t});const{edits:f,options:A}=await async function(t,e,r){const n=(0,m.BR)(t),i=e&&(e.addFeatures||e.updateFeatures||e.deleteFeatures),u=e&&(e.addAttachments||e.updateAttachments||e.deleteAttachments),d=null!=t.infoFor3D;if(function(t,e,r,s,n,a){if(!(t&&(s||n)||null!==r&&void 0!==r&&r.usingTelecomOperations))throw new o.A("".concat(a,":missing-parameters"),"'addFeatures', 'updateFeatures', 'deleteFeatures', 'addAttachments', 'updateAttachments' or 'deleteAttachments' parameter is required");if(!e.editing.supportsGlobalId&&null!==r&&void 0!==r&&r.globalIdUsed&&!r.usingFeatureServiceEndpoint)throw new o.A("".concat(a,":invalid-parameter"),"This layer does not support 'globalIdUsed' parameter. See: 'capabilities.editing.supportsGlobalId'");if(!e.editing.supportsGlobalId&&n)throw new o.A("".concat(a,":invalid-parameter"),"'addAttachments', 'updateAttachments' and 'deleteAttachments' are applicable only if the layer supports global ids. See: 'capabilities.editing.supportsGlobalId'");if((null===r||void 0===r||!r.globalIdUsed)&&n)throw new o.A("".concat(a,":invalid-parameter"),"When 'addAttachments', 'updateAttachments' or 'deleteAttachments' is specified, globalIdUsed should be set to true")}(e,n,r,!!i,!!u,"".concat(t.type,"-layer")),!n.data.isVersioned&&null!==r&&void 0!==r&&r.gdbVersion)throw new o.A("".concat(t.type,"-layer:invalid-parameter"),"'gdbVersion' is applicable only if the layer supports versioned data. See: 'capabilities.data.isVersioned'");if(!n.editing.supportsRollbackOnFailure&&null!==r&&void 0!==r&&r.rollbackOnFailureEnabled)throw new o.A("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'rollbackOnFailureEnabled' parameter. See: 'capabilities.editing.supportsRollbackOnFailure'");const p=(0,s.A)({},r);if(null!=p.rollbackOnFailureEnabled||n.editing.supportsRollbackOnFailure||(p.rollbackOnFailureEnabled=!0),p.rollbackOnFailureEnabled||"original-and-current-features"!==p.returnServiceEditsOption||(!1===p.rollbackOnFailureEnabled&&l.A.getLogger("esri.layers.graphics.editingSupport").warn("".concat(t.type,"-layer:invalid-parameter"),"'original-and-current-features' is valid for 'returnServiceEditsOption' only when 'rollBackOnFailure' is true, but 'rollBackOnFailure' was set to false. 'rollBackOnFailure' has been overwritten and set to true."),p.rollbackOnFailureEnabled=!0),!n.editing.supportsReturnServiceEditsInSourceSpatialReference&&p.returnServiceEditsInSourceSR)throw new o.A("".concat(t.type,"-layer:invalid-parameter"),"This layer does not support 'returnServiceEditsInSourceSR' parameter. See: 'capabilities.editing.supportsReturnServiceEditsInSourceSpatialReference'");if(p.returnServiceEditsInSourceSR&&"original-and-current-features"!==p.returnServiceEditsOption)throw new o.A("".concat(t.type,"-layer:invalid-parameter"),"'returnServiceEditsInSourceSR' is valid only when 'returnServiceEditsOption' is set to 'original-and-current-features'");const h=function(t,e,r){var s,n,i;const l=function(t){var e,r;return{addFeatures:Array.from(null!==(e=null===t||void 0===t?void 0:t.addFeatures)&&void 0!==e?e:[]),updateFeatures:Array.from(null!==(r=null===t||void 0===t?void 0:t.updateFeatures)&&void 0!==r?r:[]),deleteFeatures:t&&a.A.isCollection(t.deleteFeatures)?t.deleteFeatures.toArray():t.deleteFeatures||[],addAttachments:t.addAttachments||[],updateAttachments:t.updateAttachments||[],deleteAttachments:t.deleteAttachments||[]}}(t);if(null!==(s=l.addFeatures)&&void 0!==s&&s.length&&!e.operations.supportsAdd)throw new o.A("".concat(r,":unsupported-operation"),"Layer does not support adding features.");if(null!==(n=l.updateFeatures)&&void 0!==n&&n.length&&!e.operations.supportsUpdate)throw new o.A("".concat(r,":unsupported-operation"),"Layer does not support updating features.");if(null!==(i=l.deleteFeatures)&&void 0!==i&&i.length&&!e.operations.supportsDelete)throw new o.A("".concat(r,":unsupported-operation"),"Layer does not support deleting features.");return l.addFeatures=l.addFeatures.map(q),l.updateFeatures=l.updateFeatures.map(q),l.addAssetFeatures=[],l}(e,n,"".concat(t.type,"-layer")),y=(null===r||void 0===r?void 0:r.globalIdUsed)||d,f=t.fields.filter(t=>"big-integer"===t.type||"oid"===t.type&&(t.length||0)>=8);if(y){const{globalIdField:e}=t;if(null==e)throw new o.A("".concat(t.type,"-layer:invalid-parameter"),"Layer does not specify a global id field.");h.addFeatures.forEach(t=>function(t,e){const{attributes:r}=t;null==r[e]&&(r[e]=(0,c.yS)())}(t,e))}return h.addFeatures.forEach(e=>function(t,e,r,s){S(t,e,r,s),E(t,e)}(e,t,y,f)),h.updateFeatures.forEach(e=>function(t,e,r,s){S(t,e,r,s),E(t,e);const n=(0,m.BR)(e);if("geometry"in t&&null!=t.geometry&&(null===n||void 0===n||!n.editing.supportsGeometryUpdate))throw new o.A("".concat(e.type,"-layer:unsupported-operation"),"Layer does not support geometry updates.")}(e,t,y,f)),h.deleteFeatures.forEach(e=>function(t,e,r,s){S(t,e,r,s)}(e,t,y,f)),h.addAttachments.forEach(e=>R(e,t)),h.updateAttachments.forEach(e=>R(e,t)),d&&await async function(t,e){var r;const{infoFor3D:s}=e;if(null==s)return;if(!(0,g.JQ)(s))throw new o.A("".concat(e.type,"-layer:binary-gltf-asset-not-supported"),"3DObjectFeatureLayer requires binary glTF (.glb) support for updating mesh geometry.");null!==(r=t.addAssetFeatures)&&void 0!==r||(t.addAssetFeatures=[]);const{addAssetFeatures:n}=t;for(const o of null!==(a=t.addFeatures)&&void 0!==a?a:[]){var a;O(o)&&n.push(o)}for(const o of null!==(i=t.updateFeatures)&&void 0!==i?i:[]){var i;O(o)&&n.push(o)}}(h,t),{edits:await M(h),options:p}}(t,r,n);return null!==(i=f.addFeatures)&&void 0!==i&&i.length||null!==(u=f.updateFeatures)&&void 0!==u&&u.length||null!==(d=f.deleteFeatures)&&void 0!==d&&d.length||null!==(p=f.addAttachments)&&void 0!==p&&p.length||null!==(h=f.updateAttachments)&&void 0!==h&&h.length||null!==(y=f.deleteAttachments)&&void 0!==y&&y.length?{edits:f,results:await e.applyEdits(f,A)}:{edits:f,results:{addFeatureResults:[],updateFeatureResults:[],deleteFeatureResults:[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}}(t,e,r,p),h=t=>t.filter(t=>!t.error).map(i.o8),y={edits:u,addedFeatures:h(n.addFeatureResults),updatedFeatures:h(n.updateFeatureResults),deletedFeatures:h(n.deleteFeatureResults),addedAttachments:h(n.addAttachmentResults),updatedAttachments:h(n.updateAttachmentResults),deletedAttachments:h(n.deleteAttachmentResults),exceededTransferLimit:!1,historicMoment:n.editMoment?new Date(n.editMoment):null,globalIdToObjectId:p.globalIdToObjectId};return null!==(A=n.editedFeatureResults)&&void 0!==A&&A.length&&(y.editedFeatures=n.editedFeatureResults),d.resolve(y),n}catch(b){throw d.reject(b),b}}function S(t,e,r,s){if(r){if("attributes"in t&&!t.attributes[e.globalIdField])throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Feature should have '".concat(e.globalIdField,"' when 'globalIdUsed' is true"));if(!("attributes"in t)&&!t.globalId)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"`'globalId' of the feature should be passed when 'globalIdUsed' is true")}if(s.length&&"attributes"in t)for(const i of s){const r=t.attributes[i.name];if(void 0!==r&&!(0,f.OG)(i,r))throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Big-integer field '".concat(i.name,"' of the feature must be less than ").concat(Number.MAX_SAFE_INTEGER),{feature:t})}if("geometry"in t&&null!=t.geometry){var n,a;if(t.geometry.hasZ&&!1===(null===(n=e.capabilities)||void 0===n?void 0:n.data.supportsZ))throw new o.A("".concat(e.type,"-layer:z-unsupported"),"Layer does not support z values while feature has z values.");if(t.geometry.hasM&&!1===(null===(a=e.capabilities)||void 0===a?void 0:a.data.supportsM))throw new o.A("".concat(e.type,"-layer:m-unsupported"),"Layer does not support m values while feature has m values.")}}function E(t,e){var r;if("geometry"in t&&"mesh"===(null===(r=t.geometry)||void 0===r?void 0:r.type)&&null!=e.infoFor3D&&null!=e.spatialReference){const{geometry:r}=t,{spatialReference:s,vertexSpace:n}=r,a=e.spatialReference,i="local"===n.type,l=(0,h.EA)(a),u=(0,h.aI)(a,s),d=u||(0,h.oT)(a)&&((0,h.oT)(s)||(0,h.K8)(s));if(!(i&&l&&d||!i&&!l&&u))throw new o.A("".concat(e.type,"-layer:mesh-unsupported"),"Uploading a mesh with a ".concat(n.type," vertex space and a spatial reference wkid:").concat(s.wkid," to a layer with a spatial reference wkid:").concat(a.wkid," is not supported."))}}function R(t,e){var r;const{feature:s,attachment:n}=t;if(!s||"attributes"in s&&!s.attributes[e.globalIdField])throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Attachment should have reference to a feature with 'globalId'");if(!("attributes"in s)&&!s.globalId)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Attachment should have reference to 'globalId' of the parent feature");if(!n.globalId)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Attachment should have 'globalId'");if(!n.data&&!n.uploadId)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Attachment should have 'data' or 'uploadId'");if(!(n.data instanceof File&&n.data.name)&&!n.name)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"'name' is required when attachment is specified as Base64 encoded string using 'data'");if((null===(r=e.capabilities)||void 0===r||!r.editing.supportsUploadWithItemId)&&n.uploadId)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"This layer does not support 'uploadId' parameter. See: 'capabilities.editing.supportsUploadWithItemId'");if("string"==typeof n.data){const t=(0,d.r$)(n.data);if(t&&!t.isBase64)throw new o.A("".concat(e.type,"-layer:invalid-parameter"),"Attachment 'data' should be a Blob, File or Base64 encoded string")}}async function M(t){var e,r;const s=null!==(e=t.addFeatures)&&void 0!==e?e:[],n=null!==(r=t.updateFeatures)&&void 0!==r?r:[],a=s.concat(n).map(t=>t.geometry),o=await(0,p.el)(a),i=s.length,l=n.length;return o.slice(0,i).forEach((t,e)=>s[e].geometry=t),o.slice(i,i+l).forEach((t,e)=>n[e].geometry=t),t}function q(t){const e=new n.A;return t.attributes||(t.attributes={}),e.geometry=t.geometry,e.attributes=t.attributes,e}function O(t){var e;return"mesh"===(null===t||void 0===t||null===(e=t.geometry)||void 0===e?void 0:e.type)}function _(t,e,r,s){if(!v(e))throw new o.A("".concat(t.type,"-layer:no-editing-support"),"Layer source does not support applyEdits capability",{layer:t});if(!e.uploadAssets)throw new o.A("".concat(t.type,"-layer:no-asset-upload-support"),"Layer source does not support uploadAssets capability",{layer:t});return e.uploadAssets(r,s)}},57045:(t,e,r)=>{r.d(e,{Bq:()=>l,Qp:()=>i,WN:()=>g,dK:()=>m,eN:()=>h,fH:()=>f,in:()=>y,yr:()=>u});var s=r(3825),n=r(18690),a=(r(81806),r(50346)),o=r(19463);class i{constructor(t,e,r){this.assetName=t,this.assetMimeType=e,this.parts=r}equals(t){return this===t||this.assetName===t.assetName&&this.assetMimeType===t.assetMimeType&&(0,n.aI)(this.parts,t.parts,(t,e)=>t.equals(e))}isOnService(t){return this.parts.every(e=>e.isOnService(t))}makeHash(){let t="";for(const e of this.parts)t+=e.partHash;return t}async toBlob(t){const{parts:e}=this;if(1===e.length)return e[0].toBlob(t);const r=await Promise.all(e.map(e=>e.toBlob(t)));return(0,a.Te)(t),new Blob(r)}}class l{constructor(t,e){this.partUrl=t,this.partHash=e}equals(t){return this===t||this.partUrl===t.partUrl&&this.partHash===t.partHash}isOnService(t){return this.partUrl.startsWith("".concat(t.path,"/assets/"))}async toBlob(t){const{data:e}=await(0,s.A)(this.partUrl,{responseType:"blob"});return(0,a.Te)(t),e}}function u(t){return function(t){switch(null===t||void 0===t?void 0:t.type){case"client":return Array.isArray(t.files)?t.files.some(p):p(t.files);case"service":return t.assets.some(p);case"loadable":return!0;default:return!1}}(null===t||void 0===t?void 0:t.source)}const d=/^(model\/gltf\+json)|(model\/gltf-binary)$/,c=/\.(gltf|glb)/i;function p(t){if(t instanceof File){const{type:e,name:r}=t;return d.test(e)||c.test(r)}return d.test(t.assetMimeType)||c.test(t.assetName)}function h(t,e){if(!t)return!1;const{source:r}=t;return function(t,e){return"service"===t.type&&t.assets.every(t=>t.isOnService(e))}(r,e)}function y(t,e){if(t===e)return!0;const{source:r}=t,{source:s}=e;if(r===s)return!0;if("service"===r.type&&"service"===s.type){if(r.assets.length!==s.assets.length)return!1;const t=(t,e)=>t.assetName<e.assetName?-1:t.assetName>e.assetName?1:0,e=[...r.assets].sort(t),n=[...s.assets].sort(t);for(let r=0;r<e.length;++r)if(!e[r].equals(n[r]))return!1;return!0}return!1}function f(t,e){return t instanceof File?(0,o.rq)(t,e):(0,o.z$)(t.assetMimeType,t.assetName,e)}function g(t){switch(t.type){case"client":return Array.isArray(t.files)?t.files:[t.files];case"service":return t.assets;case"loadable":return}}function m(t){return!!t.original}},60008:(t,e,r)=>{r.d(e,{A6:()=>g,B8:()=>h,Xd:()=>d,Xr:()=>y,Yc:()=>T,hZ:()=>v,lw:()=>c,t2:()=>O,x8:()=>u});var s=r(44680),n=r(4336),a=r(9392),o=r(53494),i=r(20664),l=r(43047);function u(t,e,r){r*=.5;const s=Math.sin(r);return t[0]=s*e[0],t[1]=s*e[1],t[2]=s*e[2],t[3]=Math.cos(r),t}function d(t,e){const r=2*Math.acos(e[3]),s=Math.sin(r/2);return s>(0,o.FD)()?(t[0]=e[0]/s,t[1]=e[1]/s,t[2]=e[2]/s):(t[0]=1,t[1]=0,t[2]=0),r}function c(t,e,r){const s=e[0],n=e[1],a=e[2],o=e[3],i=r[0],l=r[1],u=r[2],d=r[3];return t[0]=s*d+o*i+n*u-a*l,t[1]=n*d+o*l+a*i-s*u,t[2]=a*d+o*u+s*l-n*i,t[3]=o*d-s*i-n*l-a*u,t}function p(t,e,r,s){const n=e[0],a=e[1],i=e[2],l=e[3];let u,d,c,p,h,y=r[0],f=r[1],g=r[2],m=r[3];return d=n*y+a*f+i*g+l*m,d<0&&(d=-d,y=-y,f=-f,g=-g,m=-m),1-d>(0,o.FD)()?(u=Math.acos(d),c=Math.sin(u),p=Math.sin((1-s)*u)/c,h=Math.sin(s*u)/c):(p=1-s,h=s),t[0]=p*n+h*y,t[1]=p*a+h*f,t[2]=p*i+h*g,t[3]=p*l+h*m,t}function h(t,e){const r=e[0],s=e[1],n=e[2],a=e[3],o=r*r+s*s+n*n+a*a,i=o?1/o:0;return t[0]=-r*i,t[1]=-s*i,t[2]=-n*i,t[3]=a*i,t}function y(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function f(t,e){const r=e[0]+e[4]+e[8];let s;if(r>0)s=Math.sqrt(r+1),t[3]=.5*s,s=.5/s,t[0]=(e[5]-e[7])*s,t[1]=(e[6]-e[2])*s,t[2]=(e[1]-e[3])*s;else{let r=0;e[4]>e[0]&&(r=1),e[8]>e[3*r+r]&&(r=2);const n=(r+1)%3,a=(r+2)%3;s=Math.sqrt(e[3*r+r]-e[3*n+n]-e[3*a+a]+1),t[r]=.5*s,s=.5/s,t[3]=(e[3*n+a]-e[3*a+n])*s,t[n]=(e[3*n+r]+e[3*r+n])*s,t[a]=(e[3*a+r]+e[3*r+a])*s}return t}function g(t,e,r,s){const n=.5*Math.PI/180;e*=n,r*=n,s*=n;const a=Math.sin(e),o=Math.cos(e),i=Math.sin(r),l=Math.cos(r),u=Math.sin(s),d=Math.cos(s);return t[0]=a*l*d-o*i*u,t[1]=o*i*d+a*l*u,t[2]=o*l*u-a*i*d,t[3]=o*l*d+a*i*u,t}const m=l.c,v=l.s,A=l.g,b=c,w=l.d,I=l.h,F=l.l,S=l.j,E=S,R=l.b,M=R,q=l.n,O=l.a,_=l.e;function T(t,e,r){const s=(0,i.e)(e,r);return s<-.999999?((0,i.h)(N,x,e),(0,i.H)(N)<1e-6&&(0,i.h)(N,C,e),(0,i.n)(N,N),u(t,N,Math.PI),t):s>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,i.h)(N,e,r),t[0]=N[0],t[1]=N[1],t[2]=N[2],t[3]=1+s,q(t,t))}const N=(0,a.vt)(),x=(0,a.fA)(1,0,0),C=(0,a.fA)(0,1,0);const P=(0,n.vt)(),j=(0,n.vt)();const k=(0,s.vt)();Object.freeze(Object.defineProperty({__proto__:null,add:A,calculateW:function(t,e){const r=e[0],s=e[1],n=e[2];return t[0]=r,t[1]=s,t[2]=n,t[3]=Math.sqrt(Math.abs(1-r*r-s*s-n*n)),t},conjugate:y,copy:m,dot:I,equals:_,exactEquals:O,fromEuler:g,fromMat3:f,getAxisAngle:d,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:h,len:E,length:S,lerp:F,mul:b,multiply:c,normalize:q,random:function(t){const e=o.Ov,r=e(),s=e(),n=e(),a=Math.sqrt(1-r),i=Math.sqrt(r);return t[0]=a*Math.sin(2*Math.PI*s),t[1]=a*Math.cos(2*Math.PI*s),t[2]=i*Math.sin(2*Math.PI*n),t[3]=i*Math.cos(2*Math.PI*n),t},rotateX:function(t,e,r){r*=.5;const s=e[0],n=e[1],a=e[2],o=e[3],i=Math.sin(r),l=Math.cos(r);return t[0]=s*l+o*i,t[1]=n*l+a*i,t[2]=a*l-n*i,t[3]=o*l-s*i,t},rotateY:function(t,e,r){r*=.5;const s=e[0],n=e[1],a=e[2],o=e[3],i=Math.sin(r),l=Math.cos(r);return t[0]=s*l-a*i,t[1]=n*l+o*i,t[2]=a*l+s*i,t[3]=o*l-n*i,t},rotateZ:function(t,e,r){r*=.5;const s=e[0],n=e[1],a=e[2],o=e[3],i=Math.sin(r),l=Math.cos(r);return t[0]=s*l+n*i,t[1]=n*l-s*i,t[2]=a*l+o*i,t[3]=o*l-a*i,t},rotationTo:T,scale:w,set:v,setAxes:function(t,e,r,s){const n=k;return n[0]=r[0],n[3]=r[1],n[6]=r[2],n[1]=s[0],n[4]=s[1],n[7]=s[2],n[2]=-e[0],n[5]=-e[1],n[8]=-e[2],q(t,f(t,n))},setAxisAngle:u,slerp:p,sqlerp:function(t,e,r,s,n,a){return p(P,e,n,a),p(j,r,s,a),p(t,P,j,2*a*(1-a)),t},sqrLen:M,squaredLength:R,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},75146:(t,e,r)=>{r.d(e,{A:()=>s});class s{constructor(){this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const t=new s;return t.globalIdFieldName=this.globalIdFieldName,t.geohashFieldName=this.geohashFieldName,t.geometryProperties=this.geometryProperties,t.geometryType=this.geometryType,t.spatialReference=this.spatialReference,t.hasZ=this.hasZ,t.hasM=this.hasM,t.features=this.features,t.fields=this.fields,t.transform=this.transform,t.exceededTransferLimit=this.exceededTransferLimit,t.uniqueIdField=this.uniqueIdField,t.queryGeometry=this.queryGeometry,t.queryGeometryType=this.queryGeometryType,t}}},89078:(t,e,r)=>{r.r(e),r.d(e,{default:()=>W});var s=r(89379),n=r(35143),a=r(86560),o=r(3825),i=r(18690),l=r(50076),u=r(81806),d=r(45802),c=r(49304),p=r(76460),h=r(48611),y=r(50346),f=r(68134),g=r(90534),m=r(49723),v=r(46053),A=r(85842),b=r(76797),w=r(13312),I=r(14894),F=r(99773),S=r(57045),E=r(39356),R=r(31633),M=r(9956),q=r(19902),O=r(32186),_=r(80963),T=r(54610);async function N(t,e,r){const{geometry:n}=e,a=(0,s.A)({},e.attributes);if(null!=r&&"mesh"===(null===n||void 0===n?void 0:n.type)){var o,i;const{transformFieldRoles:e}=r,{origin:s,spatialReference:l,vertexSpace:u}=n,d=null!==(o=n.transform)&&void 0!==o?o:new O.A,c="local"===u.type,p=t.spatialReference,h=p.isGeographic,y=(0,_.aI)(p,l),f=(0,M.isEqualBaseGCS)(l,p)&&(0,M.canProjectWithoutEngine)(l,p);if(!(c&&h&&f||!c&&!h&&y))return null;const g=(0,M.projectWithoutEngine)(s,l,p);if(null==g)return null;if(a[e.originX]=g.x,a[e.originY]=g.y,a[e.originZ]=null!==(i=g.z)&&void 0!==i?i:0,null!=d){const{translation:t,scale:r,rotation:s}=d,n=c?1:(0,R.KX)(l)/(0,R.KX)(p);a[e.translationX]=t[0]*n,a[e.translationY]=t[2]*n,a[e.translationZ]=-t[1]*n,a[e.scaleX]=r[0],a[e.scaleY]=r[2],a[e.scaleZ]=r[1],a[e.rotationX]=s[0],a[e.rotationY]=s[2],a[e.rotationZ]=-s[1],a[e.rotationDeg]=s[3]}return{attributes:a}}return null==n?{attributes:a}:"mesh"===n.type||"extent"===n.type?null:{geometry:n.toJSON(),attributes:a}}async function x(t,e){var r,s,n;const a=await Promise.all((null!==(r=e.addAttachments)&&void 0!==r?r:[]).map(e=>C(t,e))),o=await Promise.all((null!==(s=e.updateAttachments)&&void 0!==s?s:[]).map(e=>C(t,e))),i=null!==(n=e.deleteAttachments)&&void 0!==n?n:[];return a.length||o.length||i.length?{adds:a,updates:o,deletes:[...i]}:null}async function C(t,e){var r;const{feature:s,attachment:n}=e,{globalId:a,name:o,contentType:i,data:l,uploadId:u}=n,d={globalId:a};if(s&&("attributes"in s?d.parentGlobalId=null===(r=s.attributes)||void 0===r?void 0:r[t.globalIdField]:s.globalId&&(d.parentGlobalId=s.globalId)),u)d.uploadId=u;else if(l){const t=await(0,g._0)(l);t&&(d.contentType=t.mediaType,d.data=t.data),l instanceof File&&(d.name=l.name)}return o&&(d.name=o),i&&(d.contentType=i),d}function P(t){const e=!0===t.success?null:t.error||{code:void 0,description:"Feature edit failed"};return{objectId:t.objectId,globalId:t.globalId,error:e?new l.A("feature-layer-source:edit-failure",e.description,{code:e.code}):null}}function j(t,e){return new E.A({attributes:t.attributes,geometry:(0,q.rS)((0,s.A)((0,s.A)({},t.geometry),{},{spatialReference:e}))})}function k(t,e){var r,s,n;return{adds:(null===t||void 0===t||null===(r=t.adds)||void 0===r?void 0:r.map(t=>j(t,e)))||[],updates:(null===t||void 0===t||null===(s=t.updates)||void 0===s?void 0:s.map(t=>({original:j(t[0],e),current:j(t[1],e)})))||[],deletes:(null===t||void 0===t||null===(n=t.deletes)||void 0===n?void 0:n.map(t=>j(t,e)))||[],spatialReference:e}}var D=r(40296),U=r(17872),L=r(13096),B=r(91447),J=r(19463),Q=r(14009),G=r(10290),V=r(97015),z=r(48718),Z=r(35298);const H=new d.J({originalAndCurrentFeatures:"original-and-current-features",none:"none"}),Y=new d.J({Started:"published",Publishing:"publishing",Stopped:"unavailable"});let W=class extends c.A{constructor(t){super(t),this.type="feature-layer",this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.refresh=(0,y.sg)(async()=>{var t,e;await this.load();const r=null===(t=this.sourceJSON.editingInfo)||void 0===t?void 0:t.lastEditDate;if(null==r)return{dataChanged:!0,updates:{}};try{await this._fetchService(null)}catch(n){return{dataChanged:!0,updates:{}}}const s=r!==(null===(e=this.sourceJSON.editingInfo)||void 0===e?void 0:e.lastEditDate);return{dataChanged:s,updates:s?{editingInfo:this.sourceJSON.editingInfo,extent:this.sourceJSON.extent}:null}}),this._ongoingAssetUploads=new Map}load(t){const e=this.layer.sourceJSON,r=this._fetchService(e,(0,s.A)({},t)).then(()=>this.layer.setUserPrivileges(this.sourceJSON.serviceItemId,t)).then(()=>this._ensureLatestMetadata(t));return this.addResolvingPromise(r),Promise.resolve(this)}initialize(){this.addHandles([(0,f.wB)(()=>{const t=this.layer;return t&&"lastEditsEventDate"in t?t.lastEditsEventDate:null},t=>this._handleLastEditsEventChange(t))])}destroy(){this._removeEditInterceptor()}get queryTask(){var t,e;const{capabilities:r,parsedUrl:s,gdbVersion:n,spatialReference:a,fieldsIndex:o,uniqueIdFields:i}=this.layer,l="infoFor3D"in this.layer?this.layer.infoFor3D:null,d="dynamicDataSource"in this.layer?this.layer.dynamicDataSource:null,c=(0,u.A)("featurelayer-pbf")&&(null===r||void 0===r?void 0:r.query.supportsFormatPBF)&&null==l;return new U.A({dynamicDataSource:d,fieldsIndex:o,gdbVersion:n,infoFor3D:l,pbfSupported:c,queryAttachmentsSupported:null!==(t=null===r||void 0===r||null===(e=r.operations)||void 0===e?void 0:e.supportsQueryAttachments)&&void 0!==t&&t,sourceSpatialReference:a,uniqueIdFields:i,url:s.path})}async addAttachment(t,e){await this.load();const{layer:r}=this;await(0,B.VA)(r,"editing");const s=t.attributes[r.objectIdField],n=r.parsedUrl.path+"/"+s+"/addAttachment",a=this._getLayerRequestOptions(),i=this._getFormDataForAttachment(e,a.query);try{return P((await(0,o.A)(n,{body:i})).data.addAttachmentResult)}catch(l){throw this._createAttachmentErrorResult(s,l)}}async updateAttachment(t,e,r){await this.load();const{layer:s}=this;await(0,B.VA)(s,"editing");const n=t.attributes[s.objectIdField],a=s.parsedUrl.path+"/"+n+"/updateAttachment",i=this._getLayerRequestOptions({query:{attachmentId:e}}),l=this._getFormDataForAttachment(r,i.query);try{return P((await(0,o.A)(a,{body:l})).data.updateAttachmentResult)}catch(u){throw this._createAttachmentErrorResult(n,u)}}async applyEdits(t,e){var r,s,n,a,u;await this.load();const{layer:d}=this;await(0,B.VA)(d,"editing");const c="infoFor3D"in d?d.infoFor3D:null,p=null!=c,h=p||null!==(r=null===e||void 0===e?void 0:e.globalIdUsed)&&void 0!==r&&r,y=p?await this._uploadMeshesAndGetAssetMapEditsJSON(t):null,f=null!==(s=null===(n=t.addFeatures)||void 0===n?void 0:n.map(t=>N(this.layer,t,c)))&&void 0!==s?s:[],g=(await Promise.all(f)).filter(i.Ru),m=null!==(a=null===(u=t.updateFeatures)||void 0===u?void 0:u.map(t=>N(this.layer,t,c)))&&void 0!==a?a:[],v=(await Promise.all(m)).filter(i.Ru),A=function(t,e,r){if(!e||0===e.length)return[];if(r&&(0,T.zp)(e))return e.map(t=>t.globalId);if((0,T.r3)(e))return e.map(t=>t.objectId);const s=r?t.globalIdField:t.objectIdField;return s?e.map(t=>t.getAttribute(s)):[]}(this.layer,t.deleteFeatures,h);(0,G.u)(g,v,d.spatialReference);const b=await x(this.layer,t),w=d.capabilities.editing.supportsAsyncApplyEdits&&p,I=(null===e||void 0===e?void 0:e.gdbVersion)||d.gdbVersion,F={gdbVersion:I,rollbackOnFailure:null===e||void 0===e?void 0:e.rollbackOnFailureEnabled,useGlobalIds:h,returnEditMoment:null===e||void 0===e?void 0:e.returnEditMoment,usePreviousEditMoment:null===e||void 0===e?void 0:e.usePreviousEditMoment,async:w};await(0,Z.ZJ)(this.layer.url,I,!0);const S=(0,Z.w5)(this.layer.url,I||null);if(await(0,Z.We)(d.url,I,d.historicMoment))throw new l.A("feature-layer-source:historic-version","Editing a historic version is not allowed");null!==e&&void 0!==e&&e.returnServiceEditsOption?(F.edits=JSON.stringify([{id:d.layerId,adds:g.length?g:null,updates:v.length?v:null,deletes:A.length?A:null,attachments:b,assetMaps:y}]),F.returnServiceEditsOption=H.toJSON(null===e||void 0===e?void 0:e.returnServiceEditsOption),F.returnServiceEditsInSourceSR=null===e||void 0===e?void 0:e.returnServiceEditsInSourceSR):(F.adds=g.length?JSON.stringify(g):null,F.updates=v.length?JSON.stringify(v):null,F.deletes=A.length?h?JSON.stringify(A):A.join(","):null,F.attachments=b&&JSON.stringify(b),F.assetMaps=null!=y?JSON.stringify(y):void 0);const E=this._getLayerRequestOptions({method:"post",query:F});S&&(E.authMode="immediate",E.query.returnEditMoment=!0,E.query.sessionId=Z.TA);const R=null!==e&&void 0!==e&&e.returnServiceEditsOption?d.url:d.parsedUrl.path;let M;try{M=w?await this._asyncApplyEdits(R+"/applyEdits",E):await(0,o.A)(R+"/applyEdits",E)}catch(q){if(!function(t){const e=t.details.raw,r=+e.code,s=+e.extendedCode;return 500===r&&(-2147217144===s||-2147467261===s)}(q))throw q;E.authMode="immediate",M=w?await this._asyncApplyEdits(R+"/applyEdits",E):await(0,o.A)(R+"/applyEdits",E)}return this._createEditsResult(M)}async deleteAttachments(t,e){await this.load();const{layer:r}=this;await(0,B.VA)(r,"editing");const s=t.attributes[r.objectIdField],n=r.parsedUrl.path+"/"+s+"/deleteAttachments";try{return(await(0,o.A)(n,this._getLayerRequestOptions({query:{attachmentIds:e.join(",")},method:"post"}))).data.deleteAttachmentResults.map(P)}catch(a){throw this._createAttachmentErrorResult(s,a)}}fetchRecomputedExtents(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=t.signal;return this.load({signal:e}).then(async()=>{const e=this._getLayerRequestOptions((0,s.A)((0,s.A)({},t),{},{query:{returnUpdates:!0}})),{layerId:r,url:n}=this.layer,{data:a}=await(0,o.A)("".concat(n,"/").concat(r),e),{id:i,extent:l,fullExtent:u,timeExtent:d}=a,c=l||u;return{id:i,fullExtent:c&&b.A.fromJSON(c),timeExtent:d&&z.T.fromJSON({start:d[0],end:d[1]})}})}async queryAttachments(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.load();const r=this._getLayerRequestOptions(e);return this.queryTask.executeAttachmentQuery(t,r)}async queryFeatures(t,e){var r;await this.load();const n=await this.queryTask.execute(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}));if(null!==(r=t.outStatistics)&&void 0!==r&&r.length&&n.features.length){const e=new Map;if(n.features.forEach(r=>{var s;const n=r.attributes;null===(s=t.outStatistics)||void 0===s||s.forEach(t=>{let{outStatisticFieldName:r}=t;if(r){const t=r.toLowerCase();t&&t in n&&r!==t&&(n[r]=n[t],delete n[t],e.set(t,r))}})}),null!=n.fields)for(const t of n.fields){const r=e.get(t.name.toLowerCase());null!=r&&(t.name=r)}}return n}async queryFeaturesJSON(t,e){return await this.load(),this.queryTask.executeJSON(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryObjectIds(t,e){return await this.load(),this.queryTask.executeForIds(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryFeatureCount(t,e){return await this.load(),this.queryTask.executeForCount(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryExtent(t,e){return await this.load(),this.queryTask.executeForExtent(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryRelatedFeatures(t,e){return await this.load(),this.queryTask.executeRelationshipQuery(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryRelatedFeaturesCount(t,e){return await this.load(),this.queryTask.executeRelationshipQueryForCount(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryTopFeatures(t,e){return await this.load(),this.queryTask.executeTopFeaturesQuery(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryAttributeBins(t,e){return await this.load(),this.queryTask.executeAttributeBinsQuery(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryTopObjectIds(t,e){return await this.load(),this.queryTask.executeForTopIds(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryTopExtents(t,e){return await this.load(),this.queryTask.executeForTopExtents(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async queryTopCount(t,e){return await this.load(),this.queryTask.executeForTopCount(t,(0,s.A)((0,s.A)({},e),{},{query:this._createRequestQueryOptions(e)}))}async fetchPublishingStatus(){if(!(0,L.Wo)(this.layer.url))return"unavailable";const t=(0,g.fj)(this.layer.url,"status"),e=await(0,o.A)(t,{query:{f:"json"}});return Y.fromJSON(e.data.status)}async uploadAssets(t,e){const{uploadAssets:s}=await r.e(9845).then(r.bind(r,99845));return s(t,{layer:this.layer,ongoingUploads:this._ongoingAssetUploads},e)}_handleLastEditsEventChange(t){var e,r;const s=this.layer;if(null==t||!("capabilities"in s)||!("effectiveCapabilities"in s))return;if(null!==(e=s.capabilities)&&void 0!==e&&null!==(e=e.operations)&&void 0!==e&&e.supportsEditing||null===(r=s.effectiveCapabilities)||void 0===r||null===(r=r.operations)||void 0===r||!r.supportsEditing)return;const n=s.url;null!=n&&("layerId"in s&&(0,g.fj)(n,s.layerId.toString()),this._getOrCreateEditInterceptor(n).before=e=>{var r;const s=null!==(r=e.requestOptions.method)&&void 0!==r?r:"auto";if("auto"===s||"head"===s){var n;const r=null!==(n=e.requestOptions.query)&&void 0!==n?n:{};r._ts=t.getTime(),e.requestOptions.query=r}})}_getOrCreateEditInterceptor(t){return null==this._editInterceptor&&(this._editInterceptor={urls:t},a.A.request.internalInterceptors.push(this._editInterceptor)),this._editInterceptor}_removeEditInterceptor(){null!=this._editInterceptor&&((0,i.TF)(a.A.request.internalInterceptors,this._editInterceptor),this._editInterceptor=null)}async _asyncApplyEdits(t,e){const r=(await(0,o.A)(t,e)).data.statusUrl;for(;;){const t=(await(0,o.A)(r,{query:{f:"json"},responseType:"json"})).data;switch(t.status){case"Completed":return(0,o.A)(t.resultUrl,{query:{f:"json"},responseType:"json"});case"CompletedWithErrors":throw new l.A("async-applyEdits-failed","asynchronous applyEdits call failed.");case"Failed ImportChanges":case"InProgress":case"Pending":case"ExportAttachments":case"ExportChanges":case"ExportingData":case"ExportingSnapshot":case"ImportAttachments":case"ProvisioningReplica":case"UnRegisteringReplica":break;default:throw new l.A("async-applyEdits-failed","asynchronous applyEdits call failed (undefined response status)")}await(0,y.Pl)($)}}_createRequestQueryOptions(t){const e=(0,s.A)((0,s.A)({},this.layer.customParameters),{},{token:this.layer.apiKey},null===t||void 0===t?void 0:t.query);return this.layer.datesInUnknownTimezone&&(e.timeReferenceUnknownClient=!0),e}async _fetchService(t,e){if(!t){const r={};(0,u.A)("featurelayer-advanced-symbols")&&(r.returnAdvancedSymbols=!0),(null===e||void 0===e?void 0:e.cacheBust)&&(r._ts=Date.now());const{data:s}=await(0,o.A)(this.layer.parsedUrl.path,this._getLayerRequestOptions({query:r,signal:null===e||void 0===e?void 0:e.signal}));t=s}this.layer.applyPreferredHost(t),this.sourceJSON=await this._patchServiceJSON(t,null===e||void 0===e?void 0:e.signal);const r=t.type;if(!this.supportedSourceTypes.has(r))throw new l.A("feature-layer-source:unsupported-type",'Source type "'.concat(r,'" is not supported'))}async _patchServiceJSON(t,e){var r;if("Table"!==t.type&&t.geometryType&&(null===t||void 0===t||null===(r=t.drawingInfo)||void 0===r||!r.renderer)&&!t.defaultSymbol){const e=(0,D.F0)(t.geometryType).renderer;(0,h.sM)("drawingInfo.renderer",e,t)}if("esriGeometryMultiPatch"===t.geometryType&&t.infoFor3D&&(t.geometryType="mesh"),null==t.extent)try{const{data:r}=await(0,o.A)(this.layer.url,this._getLayerRequestOptions({signal:e}));r.spatialReference&&(t.extent={xmin:0,ymin:0,xmax:0,ymax:0,spatialReference:r.spatialReference})}catch(s){(0,y.QP)(s)}return t}async _ensureLatestMetadata(t){if(this.layer.userHasUpdateItemPrivileges&&this.sourceJSON.cacheMaxAge>0)return this._fetchService(null,(0,s.A)((0,s.A)({},t),{},{cacheBust:!0}))}async _uploadMeshesAndGetAssetMapEditsJSON(t){const{addAssetFeatures:e}=t;if(null===e||void 0===e||!e.length)return null;if(await this._areAllAssetsAlreadyMapped(e))return null;const s=t.addFeatures.filter(t=>t.geometry);if(e.length!==s.length+t.updateFeatures.length)throw new l.A("feature-layer-source:unsupported-mesh-edits","Mixing attribute only edits with mesh geometry edits is not currently supported");const n=new Array,a=new Map;for(const i of e){const{geometry:t}=i,{vertexSpace:e}=t;if((0,F.Hq)(e))n.push(t);else{var o;const e=t.origin,{convertMeshVertexSpace:s}=await Promise.all([r.e(8105),r.e(4712),r.e(530)]).then(r.bind(r,37440)),l=await s(t,new I.A({origin:[e.x,e.y,null!==(o=e.z)&&void 0!==o?o:0]}));a.set(l,t),i.geometry=l,n.push(l)}}await this.uploadAssets(n);for(const[r,i]of a)i.addExternalSources(r.metadata.externalSources.items);return{adds:this._getAssetMapEditsJSON(e),updates:[],deletes:[]}}_getAssetMapEditsJSON(t){const e=new Array,r=this.layer.globalIdField,s=this.layer.parsedUrl;for(const a of t){var n;const t=a.geometry,{metadata:o}=t,i=o.getExternalSourcesOnService(s),l=a.getAttribute(r);if(0===i.length){p.A.getLogger(this).error("Skipping feature ".concat(l,". The mesh it is associated with has not been uploaded to the service and cannot be mapped to it."));continue}const{source:u}=null!==(n=i.find(S.dK))&&void 0!==n?n:i[0];for(const r of u.assets)1===r.parts.length?e.push({globalId:(0,m.yS)(),parentGlobalId:l,assetName:r.assetName,assetHash:r.parts[0].partHash,flags:[]}):p.A.getLogger(this).error("Skipping asset ".concat(r.assetName,". It does not have exactly one part, so we cannot map it to a feature."))}return e}_createEditsResult(t){const e=t.data,{layerId:r}=this.layer,s=[];let n=null;if(Array.isArray(e))for(const u of e){var a,o,i;s.push({id:u.id,editedFeatures:u.editedFeatures}),u.id===r&&(n={addResults:null!==(a=u.addResults)&&void 0!==a?a:[],updateResults:null!==(o=u.updateResults)&&void 0!==o?o:[],deleteResults:null!==(i=u.deleteResults)&&void 0!==i?i:[],attachments:u.attachments,editMoment:u.editMoment})}else n=e;const l=function(t){var e,r,s,n,a,o;const i=null===t||void 0===t?void 0:t.assetMaps;if(i){for(const t of i.addResults)t.success||p.A.getLogger("esri.layers.graphics.sources.support.sourceUtils").error("Failed to map asset to feature with globalId ".concat(t.globalId,"."));for(const t of i.updateResults)t.success||p.A.getLogger("esri.layers.graphics.sources.support.sourceUtils").error("Failed to map asset to feature with globalId ".concat(t.globalId,"."))}const l=null===t||void 0===t?void 0:t.attachments,u={addFeatureResults:null!==(e=null===t||void 0===t||null===(r=t.addResults)||void 0===r?void 0:r.map(P))&&void 0!==e?e:[],updateFeatureResults:null!==(s=null===t||void 0===t||null===(n=t.updateResults)||void 0===n?void 0:n.map(P))&&void 0!==s?s:[],deleteFeatureResults:null!==(a=null===t||void 0===t||null===(o=t.deleteResults)||void 0===o?void 0:o.map(P))&&void 0!==a?a:[],addAttachmentResults:null!==l&&void 0!==l&&l.addResults?l.addResults.map(P):[],updateAttachmentResults:null!==l&&void 0!==l&&l.updateResults?l.updateResults.map(P):[],deleteAttachmentResults:null!==l&&void 0!==l&&l.deleteResults?l.deleteResults.map(P):[]};return null!==t&&void 0!==t&&t.editMoment&&(u.editMoment=t.editMoment),u}(n);if(s.length>0){l.editedFeatureResults=[];for(const t of s){const{editedFeatures:e}=t,r=null!==e&&void 0!==e&&e.spatialReference?new w.A(e.spatialReference):null;l.editedFeatureResults.push({layerId:t.id,editedFeatures:k(e,r)})}}return l}_createAttachmentErrorResult(t,e){var r;const s=(null===(r=e.details.messages)||void 0===r?void 0:r[0])||e.message,n=e.details.httpStatus||e.details.messageCode;return{objectId:t,globalId:null,error:new l.A("feature-layer-source:attachment-failure",s,{code:n})}}_getFormDataForAttachment(t,e){const r=t instanceof FormData?t:t&&t.elements?new FormData(t):null;if(r)for(const s in e){const t=e[s];null!=t&&(r.set?r.set(s,t):r.append(s,t))}return r}_getLayerRequestOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{layer:e,layer:{parsedUrl:r,gdbVersion:n}}=this;return(0,s.A)((0,s.A)({},t),{},{query:(0,s.A)((0,s.A)({gdbVersion:n,layer:"dynamicDataSource"in e&&e.dynamicDataSource?JSON.stringify({source:e.dynamicDataSource}):void 0},r.query),{},{f:"json"},this._createRequestQueryOptions(t)),responseType:"json"})}async _areAllAssetsAlreadyMapped(t){const{layer:e}=this,{globalIdField:r,parsedUrl:s}=e,n="infoFor3D"in e?e.infoFor3D:null;if(null==n||null==r)return!1;const a=(0,J.JZ)(n);if(null==a)return!1;const o=(0,g.fj)(s.path,"../".concat(a.id)),l=new Array;for(const i of t){if(!(i.geometry.metadata.getExternalSourcesOnService(s).length>0))return!1;l.push(i)}const u=l.map(t=>t.getAttribute(r)).filter(i.Ru);if(0===u.length)return!1;const{assetMapFieldRoles:{parentGlobalId:d,assetHash:c}}=n,p=new V.A({where:"".concat(d," IN (").concat(u.map(t=>"'".concat(t,"'")),")"),outFields:[c,d],returnGeometry:!1}),h=await(0,Q.s)(o,p),{features:y}=h;return 0!==y.length&&!l.some(t=>{const e=t.getAttribute(r);if(!e)return!0;const{metadata:n}=t.geometry,a=y.filter(t=>t.getAttribute(d)===e);if(0===a.length)return!0;const o=a.map(t=>t.getAttribute(c));return n.getExternalSourcesOnService(s).flatMap(t=>{let{source:e}=t;return e.assets.flatMap(t=>t.parts.map(t=>t.partHash))}).some(t=>o.every(e=>t!==e))})}};(0,n._)([(0,v.MZ)()],W.prototype,"type",void 0),(0,n._)([(0,v.MZ)({constructOnly:!0})],W.prototype,"layer",void 0),(0,n._)([(0,v.MZ)({constructOnly:!0})],W.prototype,"supportedSourceTypes",void 0),(0,n._)([(0,v.MZ)({readOnly:!0})],W.prototype,"queryTask",null),W=(0,n._)([(0,A.$)("esri.layers.graphics.sources.FeatureLayerSource")],W);const $=1e3},90321:(t,e,r)=>{function s(t,e){return t?e?4:3:e?3:2}function n(t,e,r,n){if(null===e||void 0===e||!e.lengths.length)return null;t.lengths.length&&(t.lengths.length=0),t.coords.length&&(t.coords.length=0);const i=t.coords,l=[],u=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:d,coords:c}=e,p=s(r,n);let h=0;for(const s of d){const t=a(u,c,h,s,r,n);t&&l.push(t),h+=s*p}if(l.sort((t,e)=>{let s=t[2]-e[2];return 0===s&&r&&(s=t[4]-e[4]),s}),l.length){let t=6*l[0][2];i[0]=l[0][0]/t,i[1]=l[0][1]/t,r&&(t=6*l[0][4],i[2]=0!==t?l[0][3]/t:0),(i[0]<u[0]||i[0]>u[1]||i[1]<u[2]||i[1]>u[3]||r&&(i[2]<u[4]||i[2]>u[5]))&&(i.length=0)}if(!i.length){const t=e.lengths[0]?o(c,0,d[0],r,n):null;if(!t)return null;i[0]=t[0],i[1]=t[1],r&&t.length>2&&(i[2]=t[2])}return t}function a(t,e,r,n,a,o){const i=s(a,o);let l=r,u=r+i,d=0,c=0,p=0,h=0,y=0;for(let s=0,g=n-1;s<g;s++,l+=i,u+=i){const r=e[l],s=e[l+1],n=e[l+2],o=e[u],i=e[u+1],f=e[u+2];let g=r*i-o*s;h+=g,d+=(r+o)*g,c+=(s+i)*g,a&&(g=r*f-o*n,p+=(n+f)*g,y+=g),r<t[0]&&(t[0]=r),r>t[1]&&(t[1]=r),s<t[2]&&(t[2]=s),s>t[3]&&(t[3]=s),a&&(n<t[4]&&(t[4]=n),n>t[5]&&(t[5]=n))}if(h>0&&(h*=-1),y>0&&(y*=-1),!h)return null;const f=[d,c,.5*h];return a&&(f[3]=p,f[4]=.5*y),f}function o(t,e,r,n,a){const o=s(n,a);let c=e,p=e+o,h=0,y=0,f=0,g=0;for(let s=0,m=r-1;s<m;s++,c+=o,p+=o){const e=t[c],r=t[c+1],s=t[c+2],a=t[p],o=t[p+1],m=t[p+2],v=n?l(e,r,s,a,o,m):i(e,r,a,o);if(v)if(h+=v,n){const t=d(e,r,s,a,o,m);y+=v*t[0],f+=v*t[1],g+=v*t[2]}else{const t=u(e,r,a,o);y+=v*t[0],f+=v*t[1]}}return h>0?n?[y/h,f/h,g/h]:[y/h,f/h]:r>0?n?[t[e],t[e+1],t[e+2]]:[t[e],t[e+1]]:null}function i(t,e,r,s){const n=r-t,a=s-e;return Math.sqrt(n*n+a*a)}function l(t,e,r,s,n,a){const o=s-t,i=n-e,l=a-r;return Math.sqrt(o*o+i*i+l*l)}function u(t,e,r,s){return[t+.5*(r-t),e+.5*(s-e)]}function d(t,e,r,s,n,a){return[t+.5*(s-t),e+.5*(n-e),r+.5*(a-r)]}r.d(e,{Q:()=>n})},97255:(t,e,r)=>{r.d(e,{$B:()=>n,Qf:()=>u,Qh:()=>i,RS:()=>a,ez:()=>p,i5:()=>h,lM:()=>o,qK:()=>c});var s=r(78393);function n(t){return 32+t.length}const a=16;function o(t){if(!t)return 0;let e=c;for(const r in t)t.hasOwnProperty(r)&&(e+=l(t[r],!1));return e}function i(t){if(!t)return 0;if("number"==typeof t[0])return u(t);if(Array.isArray(t))return function(t){const e=t.length;if(0===e||"number"==typeof t[0])return d(t,8);let r=p;for(let s=0;s<e;s++)r+=l(t[s]);return r}(t);let e=c;for(const r in t)t.hasOwnProperty(r)&&(e+=l(t[r]));return e}function l(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof t){case"object":return e?i(t):c;case"string":return n(t);case"number":return a;case"boolean":return 4;default:return 8}}function u(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.reduce((t,e)=>t+(e?(0,s.iu)(e)?e.byteLength+h:Array.isArray(e)?d(e,a):0:0),0)}function d(t,e){return p+t.length*e}const c=32,p=16,h=145},99773:(t,e,r)=>{r.d(e,{CK:()=>u,E9:()=>i,Hq:()=>l,MW:()=>d,TE:()=>c,yJ:()=>p});var s=r(20664),n=r(19247),a=r(14894),o=r(5845);function i(t){return null==t.origin}function l(t){return null!=t.origin}function u(t){return l(t.vertexSpace)}function d(t,e){if(!l(t))return null;const[r,s,a]=t.origin;return new n.A({x:r,y:s,z:a,spatialReference:e})}function c(t,e){var r;const{x:s,y:n,z:i,spatialReference:l}=t,u=[s,n,null!==i&&void 0!==i?i:0];return"local"===(null!==(r=null===e||void 0===e?void 0:e.vertexSpace)&&void 0!==r?r:function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(l))?new o.A({origin:u}):new a.A({origin:u})}function p(t,e){return t.type===e.type&&(t.origin===e.origin||null!=t.origin&&null!=e.origin&&(0,s.q)(t.origin,e.origin))}}}]);
//# sourceMappingURL=6200.ee171469.chunk.js.map