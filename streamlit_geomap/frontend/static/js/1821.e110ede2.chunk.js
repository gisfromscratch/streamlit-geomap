"use strict";(self.webpackChunkstreamlit_geomap_frontend=self.webpackChunkstreamlit_geomap_frontend||[]).push([[1821],{10294:(t,e,o)=>{o.d(e,{S:()=>a});var n=o(15941),r=o(31633),i=o(20664),s=o(5568),l=o(13927);function a(t,e,o){const a=function(t,e,o,n){const s=(t=>!Array.isArray(t[0]))(e)?(t,o)=>e[3*t+o]:(t,o)=>e[t][o],a=n?(0,r.GA)(n)/(0,r.G9)(n):1;return(0,l.lU)(t,(t,e)=>(0,i.i)(t,s(e,0)*a,s(e,1)*a,s(e,2)),o)}(u,t,e,o)?(0,l.Qj)(u):[0,0,1];return Math.abs(a[2])>Math.cos((0,n.kU)(80))?s._.Z:Math.abs(a[1])>Math.abs(a[0])?s._.Y:s._.X}const u=(0,l.vt)()},33905:(t,e,o)=>{o.d(e,{A:()=>h});var n,r=o(35143),i=o(69539),s=o(42553),l=o(46053),a=(o(81806),o(76460),o(47249),o(85842)),u=o(75257),c=o(63713);let h=n=class extends s.A{constructor(t){super(t),this.color=null,this.colorTexture=null,this.colorTextureTransform=null,this.normalTexture=void 0,this.normalTextureTransform=void 0,this.alphaMode="auto",this.alphaCutoff=.5,this.doubleSided=!0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const o=null!=t?t.get(this):null;if(o)return o;const r=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,r),r}clonePropertiesWithDeduplication(t){var e,o,n,r;return{color:null!=this.color?this.color.clone():null,colorTexture:null===(e=this.colorTexture)||void 0===e?void 0:e.cloneWithDeduplication(t),normalTexture:null===(o=this.normalTexture)||void 0===o?void 0:o.cloneWithDeduplication(t),alphaMode:this.alphaMode,alphaCutoff:this.alphaCutoff,doubleSided:this.doubleSided,colorTextureTransform:null===(n=this.colorTextureTransform)||void 0===n?void 0:n.clone(),normalTextureTransform:null===(r=this.normalTextureTransform)||void 0===r?void 0:r.clone()}}get memoryUsage(){return this.getMemoryUsage()}getMemoryUsage(){let t=0;return t+=null!=this.color?16:0,null!=this.colorTexture&&(t+=this.colorTexture.memoryUsage),t+=null!=this.colorTextureTransform?20:0,null!=this.normalTexture&&(t+=this.normalTexture.memoryUsage),t+=null!=this.normalTextureTransform?20:0,t}};(0,r._)([(0,l.MZ)({type:i.A,json:{write:!0}})],h.prototype,"color",void 0),(0,r._)([(0,l.MZ)({type:u.A,json:{write:!0}})],h.prototype,"colorTexture",void 0),(0,r._)([(0,l.MZ)({type:c.A,json:{write:!0}})],h.prototype,"colorTextureTransform",void 0),(0,r._)([(0,l.MZ)({type:u.A,json:{write:!0}})],h.prototype,"normalTexture",void 0),(0,r._)([(0,l.MZ)({type:c.A,json:{write:!0}})],h.prototype,"normalTextureTransform",void 0),(0,r._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],h.prototype,"alphaMode",void 0),(0,r._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],h.prototype,"alphaCutoff",void 0),(0,r._)([(0,l.MZ)({nonNullable:!0,json:{write:!0}})],h.prototype,"doubleSided",void 0),h=n=(0,r._)([(0,a.$)("esri.geometry.support.MeshMaterial")],h)},44032:(t,e,o)=>{o.d(e,{A:()=>p});var n,r=o(89379),i=o(35143),s=o(69539),l=o(46053),a=(o(81806),o(76460),o(47249),o(85842)),u=o(33905),c=o(75257),h=o(63713);let p=n=class extends u.A{constructor(t){super(t),this.emissiveColor=null,this.emissiveTexture=null,this.emissiveTextureTransform=void 0,this.occlusionTexture=null,this.occlusionTextureTransform=void 0,this.metallic=1,this.roughness=1,this.metallicRoughnessTexture=null,this.metallicRoughnessTextureTransform=void 0}clone(){return this.cloneWithDeduplication(null,new Map)}cloneWithDeduplication(t,e){const o=null!=t?t.get(this):null;if(o)return o;const r=new n(this.clonePropertiesWithDeduplication(e));return null!=t&&t.set(this,r),r}getMemoryUsage(){let t=super.getMemoryUsage();return t+=null!=this.emissiveColor?16:0,null!=this.emissiveTexture&&(t+=this.emissiveTexture.memoryUsage),t+=null!=this.emissiveTextureTransform?20:0,null!=this.occlusionTexture&&(t+=this.occlusionTexture.memoryUsage),t+=null!=this.occlusionTextureTransform?20:0,null!=this.metallicRoughnessTexture&&(t+=this.metallicRoughnessTexture.memoryUsage),t+=null!=this.metallicRoughnessTextureTransform?20:0,t}clonePropertiesWithDeduplication(t){var e,o,n,i,s,l,a;return(0,r.A)((0,r.A)({},super.clonePropertiesWithDeduplication(t)),{},{emissiveColor:null===(e=this.emissiveColor)||void 0===e?void 0:e.clone(),emissiveTexture:null===(o=this.emissiveTexture)||void 0===o?void 0:o.cloneWithDeduplication(t),emissiveTextureTransform:null===(n=this.emissiveTextureTransform)||void 0===n?void 0:n.clone(),occlusionTexture:null===(i=this.occlusionTexture)||void 0===i?void 0:i.cloneWithDeduplication(t),occlusionTextureTransform:null===(s=this.occlusionTextureTransform)||void 0===s?void 0:s.clone(),metallic:this.metallic,roughness:this.roughness,metallicRoughnessTexture:null===(l=this.metallicRoughnessTexture)||void 0===l?void 0:l.cloneWithDeduplication(t),metallicRoughnessTextureTransform:null===(a=this.metallicRoughnessTextureTransform)||void 0===a?void 0:a.clone()})}};(0,i._)([(0,l.MZ)({type:s.A,json:{write:!0}})],p.prototype,"emissiveColor",void 0),(0,i._)([(0,l.MZ)({type:c.A,json:{write:!0}})],p.prototype,"emissiveTexture",void 0),(0,i._)([(0,l.MZ)({type:h.A,json:{write:!0}})],p.prototype,"emissiveTextureTransform",void 0),(0,i._)([(0,l.MZ)({type:c.A,json:{write:!0}})],p.prototype,"occlusionTexture",void 0),(0,i._)([(0,l.MZ)({type:h.A,json:{write:!0}})],p.prototype,"occlusionTextureTransform",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"metallic",void 0),(0,i._)([(0,l.MZ)({type:Number,nonNullable:!0,json:{write:!0},range:{min:0,max:1}})],p.prototype,"roughness",void 0),(0,i._)([(0,l.MZ)({type:c.A,json:{write:!0}})],p.prototype,"metallicRoughnessTexture",void 0),(0,i._)([(0,l.MZ)({type:h.A,json:{write:!0}})],p.prototype,"metallicRoughnessTextureTransform",void 0),p=n=(0,i._)([(0,a.$)("esri.geometry.support.MeshMaterialMetallicRoughness")],p)},63713:(t,e,o)=>{o.d(e,{A:()=>a});var n=o(35143),r=o(69098),i=o(42553),s=o(46053),l=(o(81806),o(76460),o(47249),o(85842));let a=class extends(r.A.ClonableMixin(i.A)){constructor(t){super(t),this.offset=[0,0],this.rotation=0,this.scale=[1,1]}};(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"offset",void 0),(0,n._)([(0,s.MZ)({type:Number,nonNullable:!0,json:{write:!0}})],a.prototype,"rotation",void 0),(0,n._)([(0,s.MZ)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"scale",void 0),a=(0,n._)([(0,l.$)("esri.geometry.support.MeshTextureTransform")],a)},75257:(t,e,o)=>{o.d(e,{A:()=>f});var n,r,i=o(35143),s=(o(81806),o(16770)),l=o(42553),a=o(46053),u=o(40565),c=(o(47249),o(28379)),h=o(85842),p=o(17707),d=o(79453);const m=new WeakMap;let g=0,f=(n=class extends l.A{constructor(t){super(t),this.wrap="repeat"}get url(){return this._get("url")||null}set url(t){this._set("url",t),t&&this._set("data",null)}get data(){return this._get("data")||null}set data(t){this._set("data",t),t&&this._set("url",null)}writeData(t,e,o,n){if(t instanceof HTMLImageElement){const r={type:"image-element",src:(0,d.t)(t.src,n),crossOrigin:t.crossOrigin};e[o]=r}else if(t instanceof HTMLCanvasElement){const n={type:"canvas-element",imageData:y(t.getContext("2d").getImageData(0,0,t.width,t.height))};e[o]=n}else if(t instanceof HTMLVideoElement){const r={type:"video-element",src:(0,d.t)(t.src,n),autoplay:t.autoplay,loop:t.loop,muted:t.muted,crossOrigin:t.crossOrigin,preload:t.preload};e[o]=r}else if(t instanceof ImageData){const n={type:"image-data",imageData:y(t)};e[o]=n}}readData(t){switch(t.type){case"image-element":{const e=new Image;return e.src=t.src,e.crossOrigin=t.crossOrigin,e}case"canvas-element":{const e=v(t.imageData),o=document.createElement("canvas");return o.width=e.width,o.height=e.height,o.getContext("2d").putImageData(e,0,0),o}case"image-data":return v(t.imageData);case"video-element":{const e=document.createElement("video");return e.src=t.src,e.crossOrigin=t.crossOrigin,e.autoplay=t.autoplay,e.loop=t.loop,e.muted=t.muted,e.preload=t.preload,e}default:return}}get transparent(){const{data:t,url:e}=this,o=t=>(null===t||void 0===t?void 0:t.toLowerCase().endsWith(".png"))||(null===t||void 0===t?void 0:t.toLocaleLowerCase().startsWith("data:image/png;"));return t instanceof HTMLCanvasElement?T(t.getContext("2d").getImageData(0,0,t.width,t.height)):t instanceof ImageData?T(t):!(!e||!o(e))||!!(t instanceof HTMLImageElement&&o(t.src))}set transparent(t){this._overrideIfSome("transparent",t)}get contentHash(){var t=this;const e="string"==typeof this.wrap?this.wrap:"object"==typeof this.wrap?"".concat(this.wrap.horizontal,"/").concat(this.wrap.vertical):"",o=function(){return"d:".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",",t:").concat(t.transparent,",w:").concat(e)};return null!=this.url?o(this.url):null!=this.data?this.data instanceof HTMLImageElement||this.data instanceof HTMLVideoElement?o(this.data.src):(m.has(this.data)||m.set(this.data,++g),o(m.get(this.data))):o()}get memoryUsage(){let t=0;if(t+=null!=this.url?this.url.length:0,null!=this.data){const e=this.data;"data"in e?t+=e.data.byteLength:e instanceof HTMLImageElement?t+=e.naturalWidth*e.naturalHeight*3:e instanceof HTMLCanvasElement&&(t+=e.width*e.height*3)}return t}clone(){const t={url:this.url,data:this.data,transparent:this.transparent,wrap:this._cloneWrap()};return new r(t)}cloneWithDeduplication(t){const e=t.get(this);if(e)return e;const o=this.clone();return t.set(this,o),o}_cloneWrap(){return"string"==typeof this.wrap?this.wrap:{horizontal:this.wrap.horizontal,vertical:this.wrap.vertical}}static from(t){return"string"==typeof t?new r({url:t}):t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData||t instanceof HTMLVideoElement?new r({data:t}):(0,u.PZ)(r,t)}},r=n,n);function y(t){let e="";for(let o=0;o<t.data.length;o++)e+=String.fromCharCode(t.data[o]);return{data:btoa(e),width:t.width,height:t.height}}function v(t){const e=atob(t.data),o=new Uint8ClampedArray(e.length);for(let n=0;n<e.length;n++)o[n]=e.charCodeAt(n);return(0,s.eV)(o,t.width,t.height)}function T(t){for(let e=3;e<t.data.length;e+=4)if(255!==t.data[e])return!0;return!1}(0,i._)([(0,a.MZ)({type:String,json:{write:d.w}})],f.prototype,"url",null),(0,i._)([(0,a.MZ)({json:{write:{overridePolicy(){return{enabled:!this.url}}}}}),(0,a.MZ)()],f.prototype,"data",null),(0,i._)([(0,p.K)("data")],f.prototype,"writeData",null),(0,i._)([(0,c.w)("data")],f.prototype,"readData",null),(0,i._)([(0,a.MZ)({type:Boolean,json:{write:{overridePolicy(){return{enabled:this._isOverridden("transparent")}}}}})],f.prototype,"transparent",null),(0,i._)([(0,a.MZ)({json:{write:!0}})],f.prototype,"wrap",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],f.prototype,"contentHash",null),f=r=(0,i._)([(0,h.$)("esri.geometry.support.MeshTexture")],f)},77176:(t,e,o)=>{o.d(e,{b:()=>i});var n=o(15941),r=o(38496);function i(t,e,o){var i;const c=Array.isArray(t),h=c?t.length/e:t.byteLength/(4*e),p=c?t:new Uint32Array(t,0,h*e),d=null!==(i=null===o||void 0===o?void 0:o.minReduction)&&void 0!==i?i:0,m=(null===o||void 0===o?void 0:o.originalIndices)||null,g=m?m.length:0,f=(null===o||void 0===o?void 0:o.componentOffsets)||null;let y=0;if(f)for(let n=0;n<f.length-1;n++){const t=f[n+1]-f[n];t>y&&(y=t)}else y=h;const v=Math.floor(1.1*y)+1;(null==u||u.length<2*v)&&(u=new Uint32Array((0,n.cU)(2*v)));for(let n=0;n<2*v;n++)u[n]=0;let T=0;const w=!!f&&!!m,x=w?g:h;let _=(0,r.my)(h);const M=new Uint32Array(g),A=1.96;let b=0!==d?Math.ceil(4*A*A/(d*d)*d*(1-d)):x,Z=1,C=f?f[1]:x;for(let n=0;n<x;n++){if(n===b){const t=1-T/n;if(t+A*Math.sqrt(t*(1-t)/n)<d)return null;b*=2}if(n===C){for(let t=0;t<2*v;t++)u[t]=0;if(m)for(let t=f[Z-1];t<f[Z];t++)M[t]=_[m[t]];C=f[++Z]}const t=w?m[n]:n,o=t*e,r=a(p,o,e);let i=r%v,l=T;for(;0!==u[2*i+1];){if(u[2*i]===r){const t=u[2*i+1]-1;if(s(p,o,t*e,e)){l=_[t];break}}i++,i>=v&&(i-=v)}l===T&&(u[2*i]=r,u[2*i+1]=t+1,T++),_[t]=l}if(0!==d&&1-T/h<d)return null;if(w){for(let t=f[Z-1];t<M.length;t++)M[t]=_[m[t]];_=(0,r.uW)(M)}const j=c?new Array(T):new Uint32Array(T*e);T=0;for(let n=0;n<x;n++)_[n]===T&&(l(p,(w?m[n]:n)*e,j,T*e,e),T++);if(m&&!w){const t=new Uint32Array(g);for(let e=0;e<t.length;e++)t[e]=_[m[e]];_=(0,r.uW)(t)}return{buffer:Array.isArray(j)?j:j.buffer,indices:_,uniqueCount:T}}function s(t,e,o,n){for(let r=0;r<n;r++)if(t[e+r]!==t[o+r])return!1;return!0}function l(t,e,o,n,r){for(let i=0;i<r;i++)o[n+i]=t[e+i]}function a(t,e,o){let n=0;for(let r=0;r<o;r++)n=t[e+r]+n|0,n=n+(n<<11)+(n>>>2)|0;return n>>>0}let u=null},79629:(t,e,o)=>{o.d(e,{A:()=>g});var n,r=o(35143),i=o(42553),s=o(53084),l=o(76460),a=o(46053),u=o(21403),c=o(85842),h=o(40565),p=o(33905),d=o(44032),m=o(36417);let g=n=class extends i.A{static from(t){return(0,h.PZ)(n,t)}constructor(t){super(t),this.faces=null,this.material=null,this.name=void 0,this.shading="source",this.trustSourceNormals=!1}castFaces(t){return(0,m.b)(t,Uint32Array,[Uint16Array],{loggerTag:".faces=",stride:3},l.A.getLogger(this))}castMaterial(t){return(0,h.PZ)(t&&"object"==typeof t&&("metallic"in t||"roughness"in t||"metallicRoughnessTexture"in t)?d.A:p.A,t)}clone(){return new n({faces:(0,s.o8)(this.faces),shading:this.shading,material:(0,s.o8)(this.material),trustSourceNormals:this.trustSourceNormals,name:this.name})}cloneWithDeduplication(t,e){const o={faces:(0,s.o8)(this.faces),shading:this.shading,material:this.material?this.material.cloneWithDeduplication(t,e):null,trustSourceNormals:this.trustSourceNormals,name:this.name};return new n(o)}get memoryUsage(){let t=0;return null!=this.faces&&(t+=this.faces.byteLength),null!=this.material&&(t+=this.material.memoryUsage),t}};(0,r._)([(0,a.MZ)({json:{write:m.B}})],g.prototype,"faces",void 0),(0,r._)([(0,u.w)("faces")],g.prototype,"castFaces",null),(0,r._)([(0,a.MZ)({type:p.A,json:{write:!0}})],g.prototype,"material",void 0),(0,r._)([(0,u.w)("material")],g.prototype,"castMaterial",null),(0,r._)([(0,a.MZ)({json:{write:!0}})],g.prototype,"name",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],g.prototype,"shading",void 0),(0,r._)([(0,a.MZ)({type:Boolean})],g.prototype,"trustSourceNormals",void 0),g=n=(0,r._)([(0,c.$)("esri.geometry.support.MeshComponent")],g)},99785:(t,e,o)=>{o.d(e,{Wq:()=>n,lO:()=>p,oR:()=>d});var n,r,i=o(38983),s=o(5568),l=o(5262),a=o(44815),u=o(38496),c=o(10294),h=o(77176);function p(t){const e=d(t.rings,t.hasZ,n.CCW_IS_HOLE,t.spatialReference),o=new Array;let r=0,s=0;for(const n of e.polygons){const t=n.count,l=n.index,c=(0,a.l5)(e.position,3*l,3*t),h=n.holeIndices.map(t=>t-l),p=(0,u.uW)((0,i.e)(c,h,3));o.push({position:c,faces:p}),r+=c.length,s+=p.length}const l=function(t,e,o){if(1===t.length)return t[0];const n=(0,a.jh)(e),r=new Array(o);let i=0,s=0,l=0;for(const a of t){for(let t=0;t<a.position.length;t++)n[i++]=a.position[t];for(const t of a.faces)r[s++]=t+l;l=i/3}return{position:n,faces:(0,u.uW)(r)}}(o,r,s),c=Array.isArray(l.position)?(0,h.b)(l.position,3,{originalIndices:l.faces}):(0,h.b)(l.position.buffer,6,{originalIndices:l.faces});return l.position=(0,a.xm)(new Float64Array(c.buffer)),l.faces=c.indices,l}function d(t,e,o,r){const i=t.length,s=new Array(i),l=new Array(i),u=new Array(i);let c=0;for(let n=0;n<i;++n)c+=t[n].length;let h=0,p=0,d=0;const f=(0,a.jh)(3*c);let y=0;for(let a=i-1;a>=0;a--){const c=t[a],v=o===n.CCW_IS_HOLE&&g(c,e,r);if(v&&1!==i)s[h++]=c;else{let t=c.length;for(let e=0;e<h;++e)t+=s[e].length;const o={index:y,pathLengths:new Array(h+1),count:t,holeIndices:new Array(h)};o.pathLengths[0]=c.length,c.length>0&&(u[d++]={index:y,count:c.length}),y=v?m(c,c.length-1,-1,f,y,c.length,e):m(c,0,1,f,y,c.length,e);for(let n=0;n<h;++n){const t=s[n];o.holeIndices[n]=y,o.pathLengths[n+1]=t.length,t.length>0&&(u[d++]={index:y,count:t.length}),y=m(t,0,1,f,y,t.length,e)}h=0,o.count>0&&(l[p++]=o)}}for(let n=0;n<h;++n){const t=s[n];t.length>0&&(u[d++]={index:y,count:t.length}),y=m(t,0,1,f,y,t.length,e)}return l.length=p,u.length=d,{position:f,polygons:l,outlines:u}}function m(t,e,o,n,r,i,s){r*=3;for(let l=0;l<i;++l){const i=t[e];n[r++]=i[0],n[r++]=i[1],n[r++]=s&&i[2]?i[2]:0,e+=o}return r/3}function g(t,e,o){if(!e)return!(0,l.$3)(t);const n=t.length-1;switch((0,c.S)(t,n,o)){case s._.X:return!(0,l.$3)(t,s._.Y,s._.Z);case s._.Y:return!(0,l.$3)(t,s._.X,s._.Z);case s._.Z:return!(0,l.$3)(t,s._.X,s._.Y)}}(r=n||(n={}))[r.NONE=0]="NONE",r[r.CCW_IS_HOLE=1]="CCW_IS_HOLE"}}]);
//# sourceMappingURL=1821.e110ede2.chunk.js.map