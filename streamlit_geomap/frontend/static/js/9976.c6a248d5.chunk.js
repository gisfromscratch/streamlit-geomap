"use strict";(self.webpackChunkstreamlit_geomap_frontend=self.webpackChunkstreamlit_geomap_frontend||[]).push([[7995,9976],{1484:(e,t,n)=>{n.d(t,{A:()=>r});var s=n(97255);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.lengths=null!==e&&void 0!==e?e:[],this.coords=null!==t&&void 0!==t?t:[]}static fromJSON(e){return new r(e.lengths,e.coords)}static fromRect(e){const[t,n,s,i]=e,o=s-t,l=i-n;return new r([5],[t,n,o,0,0,l,-o,0,0,-l])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((e,t)=>e+t)}get usedMemory(){return 64+(0,s.Qf)(this.lengths,this.coords)}area(){let e=0,t=0;if(!this.lengths.length)return 0;for(let n=0;n<this.lengths.length;n++){const s=this.lengths[n];if(s<3)continue;let r=this.coords[2*t],i=this.coords[2*t+1];for(let n=1;n<s;n+=1){const s=this.coords[2*(n+t)],o=this.coords[2*(n+t)+1];e+=-.5*(s-r)*(o+i),r=s,i=o}t+=s}return e}forEachVertex(e){let t=0;this.lengths.length||e(this.coords[0],this.coords[1]);for(let n=0;n<this.lengths.length;n++){const s=this.lengths[n];for(let n=0;n<s;n++)e(this.coords[2*(n+t)],this.coords[2*(n+t)+1]);t+=s}}deltaDecode(){const e=this.clone(),{coords:t,lengths:n}=e;let s=0;for(const r of n){for(let e=1;e<r;e++)t[2*(s+e)]+=t[2*(s+e)-2],t[2*(s+e)+1]+=t[2*(s+e)-1];s+=r}return e}clone(e){if(0===this.lengths.length)return new r([],[this.coords[0],this.coords[1]]);const t=2*(0===this.lengths.length?1:this.lengths.reduce((e,t)=>e+t)),n=this.coords.slice(0,t);return e?(e.set(n),new r(this.lengths,e)):new r(Array.from(this.lengths),Array.from(n))}}},20176:(e,t,n)=>{n.d(t,{N3:()=>u,Om:()=>l});var s=n(89379),r=n(97255),i=n(90321),o=n(1484);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;this.geometry=e,this.attributes=t,this.centroid=n,this.objectId=s,this.displayId=r}static fromJSON(e){const t=e.geometry?o.A.fromJSON(e.geometry):null,n=e.centroid?o.A.fromJSON(e.centroid):null,s=e.objectId;return new l(t,e.attributes,n,s)}weakClone(){const e=new l(this.geometry,this.attributes,this.centroid,this.objectId);return e.displayId=this.displayId,e}clone(){var e,t;const n=null===(e=this.geometry)||void 0===e?void 0:e.clone(),r=new l(n,(0,s.A)({},this.attributes),null===(t=this.centroid)||void 0===t?void 0:t.clone(),this.objectId);return r.displayId=this.displayId,r}ensureCentroid(e){var t;return null!==(t=this.centroid)&&void 0!==t||(this.centroid=(0,i.Q)(new o.A,this.geometry,e.hasZ,e.hasM)),this.centroid}get usedMemory(){var e,t;return 128+(0,r.lM)(this.attributes)+(null!==(e=null===(t=this.geometry)||void 0===t?void 0:t.usedMemory)&&void 0!==e?e:0)}}function u(e){var t;return!(null===(t=e.geometry)||void 0===t||null===(t=t.coords)||void 0===t||!t.length)}},33754:(e,t,n)=>{n.d(t,{H:()=>r,L:()=>s});const s=1;function r(e,t){let n=0;for(const r of t){var s;const t=null===(s=r.attributes)||void 0===s?void 0:s[e];"number"==typeof t&&isFinite(t)&&(n=Math.max(n,t))}return n}},35454:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var s=n(89379),r=n(50076),i=n(19902),o=n(80963),l=n(98618),u=n(33754),a=n(78482),d=n(72547),c=n(24586),p=n(48094),h=n(40296),f=n(40098),y=n(1900),m=n(6127),g=n(53430),I=n(36693);const b=o.KK,v={xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:o.KK},T={hasAttachments:!1,capabilities:"query, editing, create, delete, update",useStandardizedQueries:!0,supportsCoordinatesQuantization:!0,supportsReturningQueryGeometry:!0,advancedQueryCapabilities:{supportsQueryAttachments:!1,supportsQueryAttachmentOrderByFields:!1,supportsQueryBins:!0,supportsStatistics:!0,supportsPercentileStatistics:!0,supportsReturningGeometryCentroid:!0,supportsQueryWithDistance:!0,supportsDistinct:!0,supportsReturningQueryExtent:!0,supportsReturningGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQueryWithResultType:!0,supportsSqlExpression:!0,supportsDisjointSpatialRel:!0,supportsQueryWithCacheHint:!0},queryBinsCapabilities:f.PC};function F(e){return(0,i.fT)(e)?null!=e.z:!!e.hasZ}function N(e){return(0,i.fT)(e)?null!=e.m:!!e.hasM}class E{constructor(){this._queryEngine=null,this._nextObjectId=null}destroy(){var e;null!==(e=this._queryEngine)&&void 0!==e&&e.destroy(),this._queryEngine=this._createDefaultAttributes=null}async load(e){var t;const n=[],{features:i}=e,o=this._inferLayerProperties(i,e.fields),l=e.fields||[],a=null!=e.hasM?e.hasM:!!o.hasM,f=null!=e.hasZ?e.hasZ:!!o.hasZ,F=!e.spatialReference&&!o.spatialReference,N=F?b:e.spatialReference||o.spatialReference,E=F?v:null,A=e.geometryType||o.geometryType,_=!A;let x=e.objectIdField||o.objectIdField,q=e.timeInfo;const w=new y.A(l);if(!_&&(F&&n.push({name:"feature-layer:spatial-reference-not-found",message:"Spatial reference not provided or found in features. Defaults to WGS84"}),!A))throw new r.A("feature-layer:missing-property","geometryType not set and couldn't be inferred from the provided features");if(!x)throw new r.A("feature-layer:missing-property","objectIdField not set and couldn't be found in the provided fields");if(o.objectIdField&&x!==o.objectIdField&&(n.push({name:"feature-layer:duplicated-oid-field",message:'Provided objectIdField "'.concat(x,'" doesn\'t match the field name "').concat(o.objectIdField,'", found in the provided fields')}),x=o.objectIdField),x&&!o.objectIdField){const e=w.get(x);e?(x=e.name,e.type="esriFieldTypeOID",e.editable=!1,e.nullable=!1):l.unshift({alias:x,name:x,type:"esriFieldTypeOID",editable:!1,nullable:!1})}for(const s of l){if(null==s.name&&(s.name=s.alias),null==s.alias&&(s.alias=s.name),!s.name)throw new r.A("feature-layer:invalid-field-name","field name is missing",{field:s});if(s.name===x&&(s.type="esriFieldTypeOID"),!m.m.jsonValues.includes(s.type))throw new r.A("feature-layer:invalid-field-type",'invalid type for field "'.concat(s.name,'"'),{field:s});null==s.length&&(s.length=(0,g._b)(s))}const R={};for(const s of l)if("esriFieldTypeOID"!==s.type&&"esriFieldTypeGlobalID"!==s.type){const e=(0,g.lD)(s);void 0!==e&&(R[s.name]=e)}if(q){if(q.startTimeField){const e=w.get(q.startTimeField);e?(q.startTimeField=e.name,e.type="esriFieldTypeDate"):q.startTimeField=null}if(q.endTimeField){const e=w.get(q.endTimeField);e?(q.endTimeField=e.name,e.type="esriFieldTypeDate"):q.endTimeField=null}if(q.trackIdField){const e=w.get(q.trackIdField);e?q.trackIdField=e.name:(q.trackIdField=null,n.push({name:"feature-layer:invalid-timeInfo-trackIdField",message:"trackIdField is missing",details:{timeInfo:q}}))}q.startTimeField||q.endTimeField||(n.push({name:"feature-layer:invalid-timeInfo",message:"startTimeField and endTimeField are missing or invalid",details:{timeInfo:q}}),q=null)}const j=w.dateFields.length?{timeZoneIANA:null!==(t=e.dateFieldsTimeZone)&&void 0!==t?t:I.n$}:null;this._createDefaultAttributes=(0,h.Vx)(R,x);const C={warnings:n,featureErrors:[],layerDefinition:(0,s.A)((0,s.A)({},T),{},{drawingInfo:(0,h.F0)(A),templates:(0,h.e2)(R),extent:E,geometryType:A,objectIdField:x,fields:l,hasZ:f,hasM:a,timeInfo:q,dateFieldsTimeReference:j}),assignedObjectIds:{}},O={type:"object-id",fieldName:x};if(this._queryEngine=new p.do({fieldsIndex:y.A.fromLayerJSON({fields:l,timeInfo:q,dateFieldsTimeReference:j}),geometryType:A,hasM:a,hasZ:f,featureIdInfo:O,spatialReference:N,featureStore:new d.A({geometryType:A,hasM:a,hasZ:f}),timeInfo:q}),null===i||void 0===i||!i.length)return this._nextObjectId=u.L,C;const S=(0,u.H)(x,i);return this._nextObjectId=S+1,await(0,c.Nk)(i,N),this._loadInitialFeatures(C,i)}async applyEdits(e){const{spatialReference:t,geometryType:n}=this._queryEngine;return await Promise.all([(0,f.$1)(t,n),(0,c.Nk)(e.adds,t),(0,c.Nk)(e.updates,t)]),this._applyEdits(e)}queryFeatures(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQuery(e,t.signal)}queryFeatureCount(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForCount(e,t.signal)}queryObjectIds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForIds(e,t.signal)}queryExtent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeQueryForExtent(e,t.signal)}querySnapping(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.J)(this._queryEngine,e,t.signal)}queryAttributeBins(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._queryEngine.executeAttributeBinsQuery(e,t.signal)}_inferLayerProperties(e,t){let n,s,r=null,o=null,l=null;for(const u of e){const e=u.geometry;if(null!=e&&(r||(r=(0,i.$B)(e)),o||(o=e.spatialReference),null==n&&(n=F(e)),null==s&&(s=N(e)),r&&o&&null!=n&&null!=s))break}if(t&&t.length){let e=null;t.some(t=>{const n="esriFieldTypeOID"===t.type,s=!t.type&&t.name&&"objectid"===t.name.toLowerCase();return e=t,n||s})&&(l=e.name)}return{geometryType:r,spatialReference:o,objectIdField:l,hasM:s,hasZ:n}}async _loadInitialFeatures(e,t){const{geometryType:n,hasM:s,hasZ:r,objectIdField:o,spatialReference:u,featureStore:a,fieldsIndex:d}=this._queryEngine,p=[],h={type:"object-id",fieldName:o};for(const l of t){if(null!=l.uid&&(e.assignedObjectIds[l.uid]=-1),l.geometry&&n!==(0,i.$B)(l.geometry)){e.featureErrors.push((0,f.Yx)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),s=(0,f.MB)(d,t,l.attributes,!0);s?e.featureErrors.push(s):(this._assignObjectId(t,l.attributes,!0),l.attributes=t,null!=l.uid&&(e.assignedObjectIds[l.uid]=l.attributes[o]),null!=l.geometry&&(l.geometry=(0,c.Cv)(l.geometry,l.geometry.spatialReference,u)),p.push(l))}a.addMany((0,l.Di)([],p,n,r,s,h));const{fullExtent:y,timeExtent:m}=await this._queryEngine.fetchRecomputedExtents();if(e.layerDefinition.extent=y,m){const{start:t,end:n}=m;e.layerDefinition.timeInfo.timeExtent=[t,n]}return e}async _applyEdits(e){const{adds:t,updates:n,deletes:s}=e,r={addResults:[],deleteResults:[],updateResults:[],uidToObjectId:{}};if(null!==t&&void 0!==t&&t.length&&this._applyAddEdits(r,t),null!==n&&void 0!==n&&n.length&&this._applyUpdateEdits(r,n),null!==s&&void 0!==s&&s.length){for(const e of s)r.deleteResults.push((0,f.bP)(e));this._queryEngine.featureStore.removeManyById(s)}const{fullExtent:i,timeExtent:o}=await this._queryEngine.fetchRecomputedExtents();return{extent:i,timeExtent:o,featureEditResults:r}}_applyAddEdits(e,t){const{addResults:n}=e,{geometryType:s,hasM:r,hasZ:o,objectIdField:u,spatialReference:a,featureStore:d,featureIdInfo:p,fieldsIndex:h}=this._queryEngine,y=[];for(const l of t){if(l.geometry&&s!==(0,i.$B)(l.geometry)){n.push((0,f.Yx)("Incorrect geometry type."));continue}const t=this._createDefaultAttributes(),r=(0,f.MB)(h,t,l.attributes);if(r)n.push(r);else{if(this._assignObjectId(t,l.attributes),l.attributes=t,null!=l.uid){const t=l.attributes[u];e.uidToObjectId[l.uid]=t}if(null!=l.geometry){var m;const e=null!==(m=l.geometry.spatialReference)&&void 0!==m?m:a;l.geometry=(0,c.Cv)((0,f.CR)(l.geometry,e),e,a)}y.push(l),n.push((0,f.bP)(l.attributes[u]))}}d.addMany((0,l.Di)([],y,s,o,r,p))}_applyUpdateEdits(e,t){let{updateResults:n}=e;const{geometryType:s,hasM:r,hasZ:o,objectIdField:u,spatialReference:a,featureStore:d,fieldsIndex:p,featureIdInfo:h}=this._queryEngine;for(const m of t){const{attributes:e,geometry:t}=m,g=null===e||void 0===e?void 0:e[u];if(null==g){n.push((0,f.Yx)("Identifier field ".concat(u," missing")));continue}if(!d.has(g)){n.push((0,f.Yx)("Feature with object id ".concat(g," missing")));continue}const I=(0,l.oN)(d.getFeature(g),s,o,r);if(null!=t){var y;if(s!==(0,i.$B)(t)){n.push((0,f.Yx)("Incorrect geometry type."));continue}const e=null!==(y=t.spatialReference)&&void 0!==y?y:a;I.geometry=(0,c.Cv)((0,f.CR)(t,e),e,a)}if(e){const t=(0,f.MB)(p,I.attributes,e);if(t){n.push(t);continue}}d.add((0,l.E2)(I,s,o,r,h)),n.push((0,f.bP)(g))}}_assignObjectId(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=this._queryEngine.objectIdField;n&&t&&isFinite(t[s])?e[s]=t[s]:e[s]=this._nextObjectId++}}},40098:(e,t,n)=>{n.d(t,{$1:()=>m,CR:()=>y,MB:()=>p,PC:()=>g,Yx:()=>u,bP:()=>d});var s=n(51344),r=n(80963),i=n(53430);class o{constructor(e){this.description=e,this.code=null}}class l{constructor(e){this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error=new o(e)}}function u(e){return new l(e)}class a{constructor(e){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=e}}function d(e){return new a(e)}const c=new Set;function p(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c.clear();for(const o in n){const r=e.get(o);if(!r)continue;const l=h(r,n[o]);if(c.add(r.name),r&&(s||r.editable)){const e=(0,i.CJ)(r,l);if(e)return u((0,i.uo)(e,r,l));t[r.name]=l}}for(const i of null!==(r=e.requiredFields)&&void 0!==r?r:[]){var r;if(!c.has(i.name))return u('missing required field "'.concat(i.name,'"'))}return null}function h(e,t){let n=t;return(0,i.WA)(e)&&"string"==typeof t?n=parseFloat(t):(0,i.yM)(e)&&null!=t&&"string"!=typeof t?n=String(t):(0,i.vE)(e)&&"string"==typeof t&&(n=(0,s._U)(t)),(0,i.WX)(n)}let f;function y(e,t){if(!e||!(0,r.fn)(t))return e;if("rings"in e||"paths"in e){if(null==f)throw new TypeError("geometry engine not loaded");return f.simplify(t,e)}return e}async function m(e,t){!(0,r.fn)(e)||"esriGeometryPolygon"!==t&&"esriGeometryPolyline"!==t||await async function(){return null==f&&(f=await Promise.all([n.e(2612),n.e(1669)]).then(n.bind(n,1669))),f}()}const g={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]}},40296:(e,t,n)=>{n.d(t,{F0:()=>u,Vx:()=>c,e2:()=>h,f:()=>f});var s=n(89379),r=n(81806),i=n(53084),o=n(8298),l=n(44460);function u(e){return{renderer:{type:"simple",symbol:"esriGeometryPoint"===e||"esriGeometryMultipoint"===e?l.Cb:"esriGeometryPolyline"===e?l.yM:l.WR}}}const a=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;let d=1;function c(e,t){if((0,r.A)("esri-csp-restrictions"))return()=>(0,s.A)({[t]:null},e);try{let n="this".concat(p(t)," = null;");for(const t in e)n+="this".concat(p(t)," = ").concat(JSON.stringify(e[t]),";");const s=new Function("\n      return class AttributesClass$".concat(d++," {\n        constructor() {\n          ").concat(n,";\n        }\n      }\n    "))();return()=>new s}catch(n){return()=>(0,s.A)({[t]:null},e)}}function p(e){return a.test(e)?".".concat(e):'["'.concat(e,'"]')}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[{name:"New Feature",description:"",prototype:{attributes:(0,i.o8)(e)}}]}function f(e,t){return{analytics:{supportsCacheHint:!1},attachment:null,data:{isVersioned:!1,isBranchVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:t,supportsDelete:t,supportsEditing:t,supportsChangeTracking:!1,supportsQuery:!0,supportsQueryBins:!0,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:t,supportsExceedsLimitStatistics:!0,supportsAsyncConvert3D:!1},query:o.F,queryRelated:{supportsCount:!0,supportsOrderBy:!0,supportsPagination:!0,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},queryAttributeBins:o.P,editing:{supportsGeometryUpdate:t,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1,supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsAsyncApplyEdits:!1,zDefault:void 0}}}},51344:(e,t,n)=>{function s(e){return null!=l(e)||null!=o(e)}function r(e){return u.test(e)}function i(e){var t;return null!==(t=l(e))&&void 0!==t?t:o(e)}function o(e){const t=new Date(e);return function(e,t){if(Number.isNaN(e.getTime()))return!1;let n=!0;if(d&&/\d+\W*$/.test(t)){const e=t.match(/[a-zA-Z]{2,}/);if(e){let t=!1,s=0;for(;!t&&s<=e.length;)t=!a.test(e[s]),s++;n=!t}}return n}(t,e)?Number.isNaN(t.getTime())?null:t.getTime()-6e4*t.getTimezoneOffset():null}function l(e){var t,n,s,r;const i=u.exec(e);if(null===i||void 0===i||!i.groups)return null;const o=i.groups,l=+o.year,a=+o.month-1,d=+o.day,c=+(null!==(t=o.hours)&&void 0!==t?t:"0"),p=+(null!==(n=o.minutes)&&void 0!==n?n:"0"),h=+(null!==(s=o.seconds)&&void 0!==s?s:"0");if(c>23)return null;if(p>59)return null;if(h>59)return null;const f=null!==(r=o.ms)&&void 0!==r?r:"0",y=f?+f.padEnd(3,"0").slice(0,3):0;let m;if(o.isUTC||!o.offsetSign)m=Date.UTC(l,a,d,c,p,h,y);else{const e=+o.offsetHours,t=+o.offsetMinutes;m=6e4*("+"===o.offsetSign?-1:1)*(60*e+t)+Date.UTC(l,a,d,c,p,h,y)}return Number.isNaN(m)?null:m}n.d(t,{Br:()=>r,Cq:()=>s,_U:()=>i});const u=(0,n(33635).A)(/^(?:(-?\d{4,})-(\d{2})-(\d{2}))(?:T(\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?)?(?:(Z)|(?:(\+|-)(\d{2}):(\d{2})))?$/,{year:1,month:2,day:3,hours:4,minutes:5,seconds:6,ms:7,isUTC:8,offsetSign:9,offsetHours:10,offsetMinutes:11});const a=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,d=!Number.isNaN(new Date("technology 10").getTime())},75146:(e,t,n)=>{n.d(t,{A:()=>s});class s{constructor(){this.globalIdFieldName=null,this.geohashFieldName=null,this.geometryProperties=null,this.geometryType=null,this.spatialReference=null,this.hasZ=!1,this.hasM=!1,this.features=[],this.fields=[],this.transform=null,this.exceededTransferLimit=!1,this.uniqueIdField=null,this.queryGeometryType=null,this.queryGeometry=null}weakClone(){const e=new s;return e.globalIdFieldName=this.globalIdFieldName,e.geohashFieldName=this.geohashFieldName,e.geometryProperties=this.geometryProperties,e.geometryType=this.geometryType,e.spatialReference=this.spatialReference,e.hasZ=this.hasZ,e.hasM=this.hasM,e.features=this.features,e.fields=this.fields,e.transform=this.transform,e.exceededTransferLimit=this.exceededTransferLimit,e.uniqueIdField=this.uniqueIdField,e.queryGeometry=this.queryGeometry,e.queryGeometryType=this.queryGeometryType,e}}},90321:(e,t,n)=>{function s(e,t){return e?t?4:3:t?3:2}function r(e,t,n,r){if(null===t||void 0===t||!t.lengths.length)return null;e.lengths.length&&(e.lengths.length=0),e.coords.length&&(e.coords.length=0);const l=e.coords,u=[],a=n?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:d,coords:c}=t,p=s(n,r);let h=0;for(const s of d){const e=i(a,c,h,s,n,r);e&&u.push(e),h+=s*p}if(u.sort((e,t)=>{let s=e[2]-t[2];return 0===s&&n&&(s=e[4]-t[4]),s}),u.length){let e=6*u[0][2];l[0]=u[0][0]/e,l[1]=u[0][1]/e,n&&(e=6*u[0][4],l[2]=0!==e?u[0][3]/e:0),(l[0]<a[0]||l[0]>a[1]||l[1]<a[2]||l[1]>a[3]||n&&(l[2]<a[4]||l[2]>a[5]))&&(l.length=0)}if(!l.length){const e=t.lengths[0]?o(c,0,d[0],n,r):null;if(!e)return null;l[0]=e[0],l[1]=e[1],n&&e.length>2&&(l[2]=e[2])}return e}function i(e,t,n,r,i,o){const l=s(i,o);let u=n,a=n+l,d=0,c=0,p=0,h=0,f=0;for(let s=0,m=r-1;s<m;s++,u+=l,a+=l){const n=t[u],s=t[u+1],r=t[u+2],o=t[a],l=t[a+1],y=t[a+2];let m=n*l-o*s;h+=m,d+=(n+o)*m,c+=(s+l)*m,i&&(m=n*y-o*r,p+=(r+y)*m,f+=m),n<e[0]&&(e[0]=n),n>e[1]&&(e[1]=n),s<e[2]&&(e[2]=s),s>e[3]&&(e[3]=s),i&&(r<e[4]&&(e[4]=r),r>e[5]&&(e[5]=r))}if(h>0&&(h*=-1),f>0&&(f*=-1),!h)return null;const y=[d,c,.5*h];return i&&(y[3]=p,y[4]=.5*f),y}function o(e,t,n,r,i){const o=s(r,i);let c=t,p=t+o,h=0,f=0,y=0,m=0;for(let s=0,g=n-1;s<g;s++,c+=o,p+=o){const t=e[c],n=e[c+1],s=e[c+2],i=e[p],o=e[p+1],g=e[p+2],I=r?u(t,n,s,i,o,g):l(t,n,i,o);if(I)if(h+=I,r){const e=d(t,n,s,i,o,g);f+=I*e[0],y+=I*e[1],m+=I*e[2]}else{const e=a(t,n,i,o);f+=I*e[0],y+=I*e[1]}}return h>0?r?[f/h,y/h,m/h]:[f/h,y/h]:n>0?r?[e[t],e[t+1],e[t+2]]:[e[t],e[t+1]]:null}function l(e,t,n,s){const r=n-e,i=s-t;return Math.sqrt(r*r+i*i)}function u(e,t,n,s,r,i){const o=s-e,l=r-t,u=i-n;return Math.sqrt(o*o+l*l+u*u)}function a(e,t,n,s){return[e+.5*(n-e),t+.5*(s-t)]}function d(e,t,n,s,r,i){return[e+.5*(s-e),t+.5*(r-t),n+.5*(i-n)]}n.d(t,{Q:()=>r})},97255:(e,t,n)=>{n.d(t,{$B:()=>r,Qf:()=>a,Qh:()=>l,RS:()=>i,ez:()=>p,i5:()=>h,lM:()=>o,qK:()=>c});var s=n(78393);function r(e){return 32+e.length}const i=16;function o(e){if(!e)return 0;let t=c;for(const n in e)e.hasOwnProperty(n)&&(t+=u(e[n],!1));return t}function l(e){if(!e)return 0;if("number"==typeof e[0])return a(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return d(e,8);let n=p;for(let s=0;s<t;s++)n+=u(e[s]);return n}(e);let t=c;for(const n in e)e.hasOwnProperty(n)&&(t+=u(e[n]));return t}function u(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];switch(typeof e){case"object":return t?l(e):c;case"string":return r(e);case"number":return i;case"boolean":return 4;default:return 8}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>e+(t?(0,s.iu)(t)?t.byteLength+h:Array.isArray(t)?d(t,i):0:0),0)}function d(e,t){return p+e.length*t}const c=32,p=16,h=145}}]);
//# sourceMappingURL=9976.c6a248d5.chunk.js.map